parser_version('7306d13499ba281a6e336c006d9fb23204624daa').
classical_b('SimpleLoanAgr',['/home/joe/dev/smucclaw/sandbox/joe/bmethod/contract/SimpleLoanAgr.mch','/home/joe/dev/smucclaw/sandbox/joe/bmethod/contract/CommonDefs.def','/home/joe/dev/smucclaw/sandbox/joe/bmethod/contract/AbstractContract.mch']).
machine(abstract_machine(p5(3,1,1,192,4),system(p4(3,1,1,7)),machine_header(p4(3,1,8,51),'AbstractContract',[identifier(p4(3,1,25,30),'Actor'),identifier(p4(3,1,32,40),'RuleName'),identifier(p4(3,1,42,51),'EventName')]),[definitions(p5(3,34,1,36,53),[expression_definition(p4(2,21,3,27),'Some',[],lambda(p4(2,21,11,27),[identifier(p4(2,21,13,14),x)],definition(p4(2,21,17,20),'Top',[]),set_extension(p4(2,21,23,26),[identifier(p4(2,21,24,25),x)]))),predicate_definition(p4(2,2,3,21),'Top',[],equal(p4(2,2,10,21),boolean_true(p4(2,2,10,14)),boolean_true(p4(2,2,17,21)))),predicate_definition(p4(2,3,3,25),'Bottom',[],equal(p4(2,3,13,25),boolean_true(p4(2,3,13,17)),boolean_false(p4(2,3,20,25)))),expression_definition(p5(2,5,3,9,4),'Event',[],struct(p5(2,5,12,9,4),[rec_entry(p4(2,6,5,21),identifier(p4(2,6,5,9),name),identifier(p4(2,6,12,21),'EventName')),rec_entry(p4(2,7,5,25),identifier(p4(2,7,5,18),is_preemptive),bool_set(p4(2,7,21,25))),rec_entry(p4(2,8,5,27),identifier(p4(2,8,5,22),initial_timer_val),natural1_set(p4(2,8,25,27)))])),expression_definition(p4(2,19,3,32),'Option',[identifier(p4(2,19,10,11),'T')],union(p4(2,19,16,32),set_extension(p4(2,19,16,22),[definition(p4(2,19,17,21),'None',[])]),image(p4(2,19,25,32),definition(p4(2,19,25,29),'Some',[]),identifier(p4(2,19,30,31),'T')))),expression_definition(p5(2,11,3,16,4),'Rule',[],struct(p5(2,11,11,16,4),[rec_entry(p4(2,12,5,20),identifier(p4(2,12,5,9),name),identifier(p4(2,12,12,20),'RuleName')),rec_entry(p4(2,13,5,31),identifier(p4(2,13,5,20),possible_actors),pow_subset(p4(2,13,23,31),identifier(p4(2,13,25,30),'Actor'))),rec_entry(p4(2,14,5,22),identifier(p4(2,14,5,12),deontic),identifier(p4(2,14,15,22),'Deontic')),rec_entry(p4(2,15,5,18),identifier(p4(2,15,5,10),event),definition(p4(2,15,13,18),'Event',[]))])),expression_definition(p4(2,20,3,12),'None',[],empty_set(p4(2,20,11,12))),expression_definition(p4(3,36,3,53),get_rule_name,[],lambda(p4(3,36,20,53),[identifier(p4(3,36,22,26),rule)],member(p4(3,36,29,40),identifier(p4(3,36,29,33),rule),definition(p4(3,36,36,40),'Rule',[])),record_field(p4(3,36,43,52),identifier(p4(3,36,43,47),rule),identifier(p4(3,36,48,52),name))))]),sets(p5(3,38,1,45,4),[enumerated_set(p5(3,39,3,45,4),'Deontic',[identifier(p4(3,40,5,8),'COb'),identifier(p4(3,41,5,9),'NCOb'),identifier(p4(3,42,5,12),'CProhib'),identifier(p4(3,43,5,13),'NCProhib'),identifier(p4(3,44,5,9),'Perm')])]),variables(p5(3,49,1,50,35),[identifier(p4(3,50,3,8),rules),identifier(p4(3,50,10,21),breached_by),identifier(p4(3,50,23,35),active_rules)]),invariant(p5(3,52,1,65,4),conjunct(p5(3,53,3,65,4),[subset(p4(3,53,3,15),identifier(p4(3,53,3,8),rules),definition(p4(3,53,11,15),'Rule',[])),member(p4(3,54,3,30),identifier(p4(3,54,3,14),breached_by),definition(p4(3,54,17,30),'Option',[identifier(p4(3,54,24,29),'Actor')])),member(p4(3,56,3,38),identifier(p4(3,56,3,15),active_rules),relations(p4(3,56,18,38),mult_or_cart(p4(3,56,18,34),identifier(p4(3,56,18,26),'RuleName'),identifier(p4(3,56,29,34),'Actor')),natural_set(p4(3,56,37,38)))),forall(p5(3,57,3,65,4),[identifier(p4(3,57,5,14),rule_name),identifier(p4(3,57,16,21),actor),identifier(p4(3,57,23,32),timer_val)],implication(p5(3,58,5,64,6),member(p4(3,58,5,49),couple(p4(3,58,5,34),[identifier(p4(3,58,6,15),rule_name),identifier(p4(3,58,17,22),actor),identifier(p4(3,58,24,33),timer_val)]),identifier(p4(3,58,37,49),active_rules)),exists(p5(3,59,5,64,6),[identifier(p4(3,59,7,11),rule)],conjunct(p5(3,59,14,63,47),[member(p4(3,59,14,26),identifier(p4(3,59,14,18),rule),identifier(p4(3,59,21,26),rules)),equal(p4(3,60,7,28),record_field(p4(3,60,7,16),identifier(p4(3,60,7,11),rule),identifier(p4(3,60,12,16),name)),identifier(p4(3,60,19,28),rule_name)),member(p4(3,61,7,35),identifier(p4(3,61,7,12),actor),record_field(p4(3,61,15,35),identifier(p4(3,61,15,19),rule),identifier(p4(3,61,20,35),possible_actors))),less_equal(p4(3,63,7,47),identifier(p4(3,63,7,16),timer_val),record_field(p4(3,63,19,47),record_field(p4(3,63,19,29),identifier(p4(3,63,19,23),rule),identifier(p4(3,63,24,29),event)),identifier(p4(3,63,30,47),initial_timer_val)))]))))])),initialisation(p5(3,67,1,68,49),assign(p4(3,68,3,49),[identifier(p4(3,68,3,8),rules),identifier(p4(3,68,10,21),breached_by),identifier(p4(3,68,23,35),active_rules)],[empty_set(p4(3,68,39,40)),definition(p4(3,68,42,46),'None',[]),empty_set(p4(3,68,48,49))])),operations(p5(3,70,1,190,8),[operation(p5(3,71,3,76,8),identifier(p5(3,71,3,76,8),add_rules),[],[identifier(p4(3,71,13,25),rules_to_add)],precondition(p5(3,72,5,76,8),subset(p4(3,73,7,26),identifier(p4(3,73,7,19),rules_to_add),definition(p4(3,73,22,26),'Rule',[])),assign(p4(3,75,7,36),[identifier(p4(3,75,7,12),rules)],[union(p4(3,75,16,36),identifier(p4(3,75,16,21),rules),identifier(p4(3,75,24,36),rules_to_add))]))),operation(p5(3,78,3,83,8),identifier(p5(3,78,3,83,8),remove_rules),[],[identifier(p4(3,78,16,31),rules_to_remove)],precondition(p5(3,79,5,83,8),subset(p4(3,80,7,29),identifier(p4(3,80,7,22),rules_to_remove),definition(p4(3,80,25,29),'Rule',[])),assign(p4(3,82,7,39),[identifier(p4(3,82,7,12),rules)],[set_subtraction(p4(3,82,16,39),identifier(p4(3,82,16,21),rules),identifier(p4(3,82,24,39),rules_to_remove))]))),operation(p5(3,86,3,97,8),identifier(p5(3,86,3,97,8),tick),[],[],precondition(p5(3,87,5,97,8),conjunct(p5(3,90,7,92,32),[not_equal(p4(3,90,7,16),identifier(p4(3,90,7,12),rules),empty_set(p4(3,90,15,16))),equal(p4(3,91,7,25),identifier(p4(3,91,7,18),breached_by),definition(p4(3,91,21,25),'None',[])),member(p4(3,92,7,32),range(p4(3,92,7,24),identifier(p4(3,92,11,23),active_rules)),pow_subset(p4(3,92,27,32),natural1_set(p4(3,92,29,31))))]),assign(p5(3,94,7,96,8),[identifier(p4(3,94,7,19),active_rules)],[comprehension_set(p5(3,94,23,96,8),[identifier(p4(3,94,24,33),rule_name),identifier(p4(3,94,35,40),actor),identifier(p4(3,94,42,51),timer_val)],member(p4(3,95,9,57),couple(p4(3,95,9,42),[identifier(p4(3,95,10,19),rule_name),identifier(p4(3,95,21,26),actor),add(p4(3,95,28,41),identifier(p4(3,95,28,37),timer_val),integer(p4(3,95,40,41),1))]),identifier(p4(3,95,45,57),active_rules)))]))),operation(p5(3,108,3,135,8),identifier(p5(3,108,3,135,8),event_happened),[identifier(p4(3,108,3,22),relevant_rule_names)],[identifier(p4(3,108,40,50),event_name),identifier(p4(3,108,52,57),actor)],any(p5(3,109,5,135,8),[identifier(p4(3,109,9,23),relevant_rules)],conjunct(p5(3,110,7,119,8),[equal(p4(3,110,7,25),identifier(p4(3,110,7,18),breached_by),definition(p4(3,110,21,25),'None',[])),not_equal(p4(3,111,7,25),identifier(p4(3,111,7,21),relevant_rules),empty_set(p4(3,111,24,25))),equal(p5(3,112,7,119,8),identifier(p4(3,112,7,21),relevant_rules),comprehension_set(p5(3,112,24,119,8),[identifier(p4(3,112,25,29),rule)],conjunct(p5(3,113,9,118,10),[member(p4(3,113,9,21),identifier(p4(3,113,9,13),rule),identifier(p4(3,113,16,21),rules)),exists(p5(3,114,9,118,10),[identifier(p4(3,114,11,20),timer_val)],conjunct(p5(3,115,11,117,39),[member(p4(3,115,11,55),couple(p4(3,115,11,40),[record_field(p4(3,115,12,21),identifier(p4(3,115,12,16),rule),identifier(p4(3,115,17,21),name)),identifier(p4(3,115,23,28),actor),identifier(p4(3,115,30,39),timer_val)]),identifier(p4(3,115,43,55),active_rules)),implication(p4(3,116,12,60),equal(p4(3,116,12,44),record_field(p4(3,116,12,36),record_field(p4(3,116,12,22),identifier(p4(3,116,12,16),rule),identifier(p4(3,116,17,22),event)),identifier(p4(3,116,23,36),is_preemptive)),boolean_false(p4(3,116,39,44))),equal(p4(3,116,47,60),identifier(p4(3,116,47,56),timer_val),integer(p4(3,116,59,60),0))),equal(p4(3,117,11,39),record_field(p4(3,117,11,26),record_field(p4(3,117,11,21),identifier(p4(3,117,11,15),rule),identifier(p4(3,117,16,21),event)),identifier(p4(3,117,22,26),name)),identifier(p4(3,117,29,39),event_name))]))])))]),parallel(p5(3,121,7,134,10),[assign(p4(3,121,7,59),[identifier(p4(3,121,7,26),relevant_rule_names)],[image(p4(3,121,30,59),definition(p4(3,121,30,43),get_rule_name,[]),identifier(p4(3,121,44,58),relevant_rules))]),if(p5(3,122,7,134,10),exists(p4(3,122,10,67),[identifier(p4(3,122,12,16),rule)],conjunct(p4(3,122,19,66),[member(p4(3,122,19,40),identifier(p4(3,122,19,23),rule),identifier(p4(3,122,26,40),relevant_rules)),equal(p4(3,122,43,66),record_field(p4(3,122,43,55),identifier(p4(3,122,43,47),rule),identifier(p4(3,122,48,55),deontic)),identifier(p4(3,122,58,66),'NCProhib'))])),assign(p4(3,124,9,52),[identifier(p4(3,124,9,20),breached_by),identifier(p4(3,124,22,34),active_rules)],[function(p4(3,124,38,49),definition(p4(3,124,38,42),'Some',[]),[identifier(p4(3,124,43,48),actor)]),empty_set(p4(3,124,51,52))]),[],let(p5(3,126,9,133,12),[identifier(p4(3,126,13,22),to_remove)],equal(p5(3,127,11,130,12),identifier(p4(3,127,11,20),to_remove),comprehension_set(p5(3,127,23,130,12),[identifier(p4(3,127,24,33),rule_name),identifier(p4(3,127,35,40),actor),identifier(p4(3,127,42,51),timer_val)],conjunct(p5(3,128,13,129,68),[member(p4(3,128,13,57),couple(p4(3,128,13,42),[identifier(p4(3,128,14,23),rule_name),identifier(p4(3,128,25,30),actor),identifier(p4(3,128,32,41),timer_val)]),identifier(p4(3,128,45,57),active_rules)),exists(p4(3,129,13,68),[identifier(p4(3,129,15,19),rule)],conjunct(p4(3,129,22,67),[member(p4(3,129,22,43),identifier(p4(3,129,22,26),rule),identifier(p4(3,129,29,43),relevant_rules)),equal(p4(3,129,46,67),record_field(p4(3,129,46,55),identifier(p4(3,129,46,50),rule),identifier(p4(3,129,51,55),name)),identifier(p4(3,129,58,67),rule_name))]))]))),assign(p4(3,132,11,51),[identifier(p4(3,132,11,23),active_rules)],[set_subtraction(p4(3,132,27,51),identifier(p4(3,132,27,39),active_rules),identifier(p4(3,132,42,51),to_remove))])))]))),operation(p5(3,137,3,162,8),identifier(p5(3,137,3,162,8),event_timeout),[identifier(p4(3,137,3,22),relevant_rule_names)],[identifier(p4(3,137,39,49),event_name),identifier(p4(3,137,51,56),actor)],any(p5(3,138,5,162,8),[identifier(p4(3,138,9,23),relevant_rules)],conjunct(p5(3,139,7,145,8),[equal(p4(3,139,7,25),identifier(p4(3,139,7,18),breached_by),definition(p4(3,139,21,25),'None',[])),not_equal(p4(3,140,7,25),identifier(p4(3,140,7,21),relevant_rules),empty_set(p4(3,140,24,25))),equal(p5(3,141,7,145,8),identifier(p4(3,141,7,21),relevant_rules),comprehension_set(p5(3,141,24,145,8),[identifier(p4(3,141,25,29),rule)],conjunct(p5(3,142,9,144,37),[member(p4(3,142,9,21),identifier(p4(3,142,9,13),rule),identifier(p4(3,142,16,21),rules)),member(p4(3,143,9,45),couple(p4(3,143,9,30),[record_field(p4(3,143,10,19),identifier(p4(3,143,10,14),rule),identifier(p4(3,143,15,19),name)),identifier(p4(3,143,21,26),actor),integer(p4(3,143,28,29),0)]),identifier(p4(3,143,33,45),active_rules)),equal(p4(3,144,9,37),record_field(p4(3,144,9,24),record_field(p4(3,144,9,19),identifier(p4(3,144,9,13),rule),identifier(p4(3,144,14,19),event)),identifier(p4(3,144,20,24),name)),identifier(p4(3,144,27,37),event_name))])))]),parallel(p5(3,147,7,161,10),[assign(p4(3,147,7,59),[identifier(p4(3,147,7,26),relevant_rule_names)],[image(p4(3,147,30,59),definition(p4(3,147,30,43),get_rule_name,[]),identifier(p4(3,147,44,58),relevant_rules))]),if(p5(3,148,7,161,10),exists(p4(3,148,10,63),[identifier(p4(3,148,12,16),rule)],conjunct(p4(3,148,19,62),[member(p4(3,148,19,40),identifier(p4(3,148,19,23),rule),identifier(p4(3,148,26,40),relevant_rules)),equal(p4(3,148,43,62),record_field(p4(3,148,43,55),identifier(p4(3,148,43,47),rule),identifier(p4(3,148,48,55),deontic)),identifier(p4(3,148,58,62),'NCOb'))])),assign(p4(3,150,9,52),[identifier(p4(3,150,9,20),breached_by),identifier(p4(3,150,22,34),active_rules)],[function(p4(3,150,38,49),definition(p4(3,150,38,42),'Some',[]),[identifier(p4(3,150,43,48),actor)]),empty_set(p4(3,150,51,52))]),[],let(p5(3,152,9,160,12),[identifier(p4(3,152,13,22),to_remove)],equal(p5(3,153,11,157,12),identifier(p4(3,153,11,20),to_remove),comprehension_set(p5(3,153,23,157,12),[identifier(p4(3,153,24,33),rule_name),identifier(p4(3,153,35,40),actor),identifier(p4(3,153,42,51),timer_val)],conjunct(p5(3,154,13,156,68),[member(p4(3,154,13,57),couple(p4(3,154,13,42),[identifier(p4(3,154,14,23),rule_name),identifier(p4(3,154,25,30),actor),identifier(p4(3,154,32,41),timer_val)]),identifier(p4(3,154,45,57),active_rules)),equal(p4(3,155,13,26),identifier(p4(3,155,13,22),timer_val),integer(p4(3,155,25,26),0)),exists(p4(3,156,13,68),[identifier(p4(3,156,15,19),rule)],conjunct(p4(3,156,22,67),[member(p4(3,156,22,43),identifier(p4(3,156,22,26),rule),identifier(p4(3,156,29,43),relevant_rules)),equal(p4(3,156,46,67),record_field(p4(3,156,46,55),identifier(p4(3,156,46,50),rule),identifier(p4(3,156,51,55),name)),identifier(p4(3,156,58,67),rule_name))]))]))),assign(p4(3,159,11,51),[identifier(p4(3,159,11,23),active_rules)],[set_subtraction(p4(3,159,27,51),identifier(p4(3,159,27,39),active_rules),identifier(p4(3,159,42,51),to_remove))])))]))),operation(p5(3,164,3,178,8),identifier(p5(3,164,3,178,8),trigger),[],[identifier(p4(3,164,11,19),triggers)],any(p5(3,165,5,178,8),[identifier(p4(3,165,9,23),timed_triggers)],conjunct(p5(3,166,7,175,8),[equal(p4(3,166,7,25),identifier(p4(3,166,7,18),breached_by),definition(p4(3,166,21,25),'None',[])),member(p4(3,167,7,34),identifier(p4(3,167,7,15),triggers),relations(p4(3,167,18,34),identifier(p4(3,167,18,26),'RuleName'),identifier(p4(3,167,29,34),'Actor'))),equal(p5(3,168,7,175,8),identifier(p4(3,168,7,21),timed_triggers),comprehension_set(p5(3,168,24,175,8),[identifier(p4(3,168,25,34),rule_name),identifier(p4(3,168,36,41),actor),identifier(p4(3,168,43,53),timer_val0)],conjunct(p5(3,169,9,174,10),[member(p4(3,169,9,38),couple(p4(3,169,9,27),[identifier(p4(3,169,10,19),rule_name),identifier(p4(3,169,21,26),actor)]),identifier(p4(3,169,30,38),triggers)),exists(p5(3,170,9,174,10),[identifier(p4(3,170,11,15),rule)],conjunct(p5(3,170,18,173,52),[member(p4(3,170,18,30),identifier(p4(3,170,18,22),rule),identifier(p4(3,170,25,30),rules)),equal(p4(3,171,11,32),record_field(p4(3,171,11,20),identifier(p4(3,171,11,15),rule),identifier(p4(3,171,16,20),name)),identifier(p4(3,171,23,32),rule_name)),member(p4(3,172,11,39),identifier(p4(3,172,11,16),actor),record_field(p4(3,172,19,39),identifier(p4(3,172,19,23),rule),identifier(p4(3,172,24,39),possible_actors))),equal(p4(3,173,11,52),identifier(p4(3,173,11,21),timer_val0),record_field(p4(3,173,24,52),record_field(p4(3,173,24,34),identifier(p4(3,173,24,28),rule),identifier(p4(3,173,29,34),event)),identifier(p4(3,173,35,52),initial_timer_val)))]))])))]),assign(p4(3,177,7,52),[identifier(p4(3,177,7,19),active_rules)],[union(p4(3,177,23,52),identifier(p4(3,177,23,35),active_rules),identifier(p4(3,177,38,52),timed_triggers))]))),operation(p5(3,180,3,190,8),identifier(p5(3,180,3,190,8),discharge),[],[identifier(p4(3,180,13,23),discharges)],any(p5(3,181,5,190,8),[identifier(p4(3,181,9,25),timed_discharges)],conjunct(p5(3,182,7,187,8),[equal(p4(3,182,7,25),identifier(p4(3,182,7,18),breached_by),definition(p4(3,182,21,25),'None',[])),member(p4(3,183,7,36),identifier(p4(3,183,7,17),discharges),relations(p4(3,183,20,36),identifier(p4(3,183,20,28),'RuleName'),identifier(p4(3,183,31,36),'Actor'))),equal(p5(3,184,7,187,8),identifier(p4(3,184,7,23),timed_discharges),comprehension_set(p5(3,184,26,187,8),[identifier(p4(3,184,27,36),rule_name),identifier(p4(3,184,38,43),actor),identifier(p4(3,184,45,54),timer_val)],conjunct(p5(3,185,9,186,40),[member(p4(3,185,9,53),couple(p4(3,185,9,38),[identifier(p4(3,185,10,19),rule_name),identifier(p4(3,185,21,26),actor),identifier(p4(3,185,28,37),timer_val)]),identifier(p4(3,185,41,53),active_rules)),member(p4(3,186,9,40),couple(p4(3,186,9,27),[identifier(p4(3,186,10,19),rule_name),identifier(p4(3,186,21,26),actor)]),identifier(p4(3,186,30,40),discharges))])))]),assign(p4(3,189,7,54),[identifier(p4(3,189,7,19),active_rules)],[set_subtraction(p4(3,189,23,54),identifier(p4(3,189,23,35),active_rules),identifier(p4(3,189,38,54),timed_discharges))])))])])).
machine(abstract_machine(p5(1,1,1,235,4),system(p3(1,1,7)),machine_header(p3(1,8,21),'SimpleLoanAgr',[]),[includes(p3(3,1,53),[machine_reference(p3(3,10,53),'AbstractContract',[identifier(p3(3,27,32),'Actor'),identifier(p3(3,34,42),'RuleName'),identifier(p3(3,44,53),'EventName')])]),promotes(p3(4,1,14),[identifier(p3(4,10,14),tick)]),definitions(p5(1,6,1,7,19),[expression_definition(p4(2,21,3,27),'Some',[],lambda(p4(2,21,11,27),[identifier(p4(2,21,13,14),x)],definition(p4(2,21,17,20),'Top',[]),set_extension(p4(2,21,23,26),[identifier(p4(2,21,24,25),x)]))),predicate_definition(p4(2,2,3,21),'Top',[],equal(p4(2,2,10,21),boolean_true(p4(2,2,10,14)),boolean_true(p4(2,2,17,21)))),predicate_definition(p4(2,3,3,25),'Bottom',[],equal(p4(2,3,13,25),boolean_true(p4(2,3,13,17)),boolean_false(p4(2,3,20,25)))),expression_definition(p5(2,5,3,9,4),'Event',[],struct(p5(2,5,12,9,4),[rec_entry(p4(2,6,5,21),identifier(p4(2,6,5,9),name),identifier(p4(2,6,12,21),'EventName')),rec_entry(p4(2,7,5,25),identifier(p4(2,7,5,18),is_preemptive),bool_set(p4(2,7,21,25))),rec_entry(p4(2,8,5,27),identifier(p4(2,8,5,22),initial_timer_val),natural1_set(p4(2,8,25,27)))])),expression_definition(p4(2,19,3,32),'Option',[identifier(p4(2,19,10,11),'T')],union(p4(2,19,16,32),set_extension(p4(2,19,16,22),[definition(p4(2,19,17,21),'None',[])]),image(p4(2,19,25,32),definition(p4(2,19,25,29),'Some',[]),identifier(p4(2,19,30,31),'T')))),expression_definition(p5(2,11,3,16,4),'Rule',[],struct(p5(2,11,11,16,4),[rec_entry(p4(2,12,5,20),identifier(p4(2,12,5,9),name),identifier(p4(2,12,12,20),'RuleName')),rec_entry(p4(2,13,5,31),identifier(p4(2,13,5,20),possible_actors),pow_subset(p4(2,13,23,31),identifier(p4(2,13,25,30),'Actor'))),rec_entry(p4(2,14,5,22),identifier(p4(2,14,5,12),deontic),identifier(p4(2,14,15,22),'Deontic')),rec_entry(p4(2,15,5,18),identifier(p4(2,15,5,10),event),definition(p4(2,15,13,18),'Event',[]))])),expression_definition(p4(2,20,3,12),'None',[],empty_set(p4(2,20,11,12)))]),sets(p5(1,9,1,19,4),[enumerated_set(p3(10,3,29),'Actor',[identifier(p3(10,12,20),borrower),identifier(p3(10,22,28),lender)]),enumerated_set(p5(1,11,3,15,4),'RuleName',[identifier(p3(12,5,21),'RequestPrincipal'),identifier(p3(12,23,36),'SendPrincipal'),identifier(p3(13,5,13),'Payment1'),identifier(p3(13,15,23),'Payment2'),identifier(p3(13,25,39),'PayAccelerated'),identifier(p3(14,5,19),'EventOfDefault'),identifier(p3(14,21,35),'NotifyBorrower'),identifier(p3(14,37,48),'CureDefault')]),enumerated_set(p5(1,16,3,19,4),'EventName',[identifier(p3(17,5,22),request_principal),identifier(p3(17,24,38),send_principal),identifier(p3(17,40,44),pay1),identifier(p3(17,46,50),pay2),identifier(p3(17,52,67),pay_accelerated),identifier(p3(18,5,21),event_of_default),identifier(p3(18,23,38),notify_borrower),identifier(p3(18,40,52),cure_default)])]),constants(p5(1,21,1,22,9),[identifier(p3(22,3,9),rules0)]),properties(p5(1,24,1,113,4),equal(p5(1,25,3,113,4),identifier(p3(25,3,9),rules0),set_extension(p5(1,25,12,113,4),[rec(p5(1,26,5,35,6),[rec_entry(p3(27,7,30),identifier(p3(27,7,11),name),identifier(p3(27,14,30),'RequestPrincipal')),rec_entry(p3(28,7,35),identifier(p3(28,7,22),possible_actors),set_extension(p3(28,25,35),[identifier(p3(28,26,34),borrower)])),rec_entry(p3(29,7,20),identifier(p3(29,7,14),deontic),identifier(p3(29,17,20),'COb')),rec_entry(p5(1,30,7,34,8),identifier(p3(30,7,12),event),rec(p5(1,30,15,34,8),[rec_entry(p3(31,9,33),identifier(p3(31,9,13),name),identifier(p3(31,16,33),request_principal)),rec_entry(p3(32,9,29),identifier(p3(32,9,22),is_preemptive),boolean_true(p3(32,25,29))),rec_entry(p3(33,9,30),identifier(p3(33,9,26),initial_timer_val),integer(p3(33,29,30),1))]))]),rec(p5(1,37,5,46,6),[rec_entry(p3(38,7,27),identifier(p3(38,7,11),name),identifier(p3(38,14,27),'SendPrincipal')),rec_entry(p3(39,7,33),identifier(p3(39,7,22),possible_actors),set_extension(p3(39,25,33),[identifier(p3(39,26,32),lender)])),rec_entry(p3(40,7,21),identifier(p3(40,7,14),deontic),identifier(p3(40,17,21),'NCOb')),rec_entry(p5(1,41,7,45,8),identifier(p3(41,7,12),event),rec(p5(1,41,15,45,8),[rec_entry(p3(42,9,30),identifier(p3(42,9,13),name),identifier(p3(42,16,30),send_principal)),rec_entry(p3(43,9,29),identifier(p3(43,9,22),is_preemptive),boolean_true(p3(43,25,29))),rec_entry(p3(44,9,30),identifier(p3(44,9,26),initial_timer_val),integer(p3(44,29,30),3))]))]),rec(p5(1,48,5,57,6),[rec_entry(p3(49,7,22),identifier(p3(49,7,11),name),identifier(p3(49,14,22),'Payment1')),rec_entry(p3(50,7,35),identifier(p3(50,7,22),possible_actors),set_extension(p3(50,25,35),[identifier(p3(50,26,34),borrower)])),rec_entry(p3(51,7,20),identifier(p3(51,7,14),deontic),identifier(p3(51,17,20),'COb')),rec_entry(p5(1,52,7,56,8),identifier(p3(52,7,12),event),rec(p5(1,52,15,56,8),[rec_entry(p3(53,9,20),identifier(p3(53,9,13),name),identifier(p3(53,16,20),pay1)),rec_entry(p3(54,9,30),identifier(p3(54,9,22),is_preemptive),boolean_false(p3(54,25,30))),rec_entry(p3(55,9,31),identifier(p3(55,9,26),initial_timer_val),integer(p3(55,29,31),10))]))]),rec(p5(1,59,5,68,6),[rec_entry(p3(60,7,22),identifier(p3(60,7,11),name),identifier(p3(60,14,22),'Payment2')),rec_entry(p3(61,7,35),identifier(p3(61,7,22),possible_actors),set_extension(p3(61,25,35),[identifier(p3(61,26,34),borrower)])),rec_entry(p3(62,7,20),identifier(p3(62,7,14),deontic),identifier(p3(62,17,20),'COb')),rec_entry(p5(1,63,7,67,8),identifier(p3(63,7,12),event),rec(p5(1,63,15,67,8),[rec_entry(p3(64,9,20),identifier(p3(64,9,13),name),identifier(p3(64,16,20),pay2)),rec_entry(p3(65,9,30),identifier(p3(65,9,22),is_preemptive),boolean_false(p3(65,25,30))),rec_entry(p3(66,9,31),identifier(p3(66,9,26),initial_timer_val),integer(p3(66,29,31),10))]))]),rec(p5(1,70,5,79,6),[rec_entry(p3(71,7,28),identifier(p3(71,7,11),name),identifier(p3(71,14,28),'EventOfDefault')),rec_entry(p3(72,7,35),identifier(p3(72,7,22),possible_actors),set_extension(p3(72,25,35),[identifier(p3(72,26,34),borrower)])),rec_entry(p3(73,7,24),identifier(p3(73,7,14),deontic),identifier(p3(73,17,24),'CProhib')),rec_entry(p5(1,74,7,78,8),identifier(p3(74,7,12),event),rec(p5(1,74,15,78,8),[rec_entry(p3(75,9,32),identifier(p3(75,9,13),name),identifier(p3(75,16,32),event_of_default)),rec_entry(p3(76,9,29),identifier(p3(76,9,22),is_preemptive),boolean_true(p3(76,25,29))),rec_entry(p3(77,9,31),identifier(p3(77,9,26),initial_timer_val),integer(p3(77,29,31),25))]))]),rec(p5(1,81,5,90,6),[rec_entry(p3(82,7,28),identifier(p3(82,7,11),name),identifier(p3(82,14,28),'NotifyBorrower')),rec_entry(p3(83,7,33),identifier(p3(83,7,22),possible_actors),set_extension(p3(83,25,33),[identifier(p3(83,26,32),lender)])),rec_entry(p3(84,7,21),identifier(p3(84,7,14),deontic),identifier(p3(84,17,21),'Perm')),rec_entry(p5(1,85,7,89,8),identifier(p3(85,7,12),event),rec(p5(1,85,15,89,8),[rec_entry(p3(86,9,31),identifier(p3(86,9,13),name),identifier(p3(86,16,31),notify_borrower)),rec_entry(p3(87,9,29),identifier(p3(87,9,22),is_preemptive),boolean_true(p3(87,25,29))),rec_entry(p3(88,9,30),identifier(p3(88,9,26),initial_timer_val),integer(p3(88,29,30),3))]))]),rec(p5(1,92,5,101,6),[rec_entry(p3(93,7,25),identifier(p3(93,7,11),name),identifier(p3(93,14,25),'CureDefault')),rec_entry(p3(94,7,35),identifier(p3(94,7,22),possible_actors),set_extension(p3(94,25,35),[identifier(p3(94,26,34),borrower)])),rec_entry(p3(95,7,20),identifier(p3(95,7,14),deontic),identifier(p3(95,17,20),'COb')),rec_entry(p5(1,96,7,100,8),identifier(p3(96,7,12),event),rec(p5(1,96,15,100,8),[rec_entry(p3(97,9,28),identifier(p3(97,9,13),name),identifier(p3(97,16,28),cure_default)),rec_entry(p3(98,9,29),identifier(p3(98,9,22),is_preemptive),boolean_true(p3(98,25,29))),rec_entry(p3(99,9,30),identifier(p3(99,9,26),initial_timer_val),integer(p3(99,29,30),2))]))]),rec(p5(1,103,5,112,6),[rec_entry(p3(104,7,28),identifier(p3(104,7,11),name),identifier(p3(104,14,28),'PayAccelerated')),rec_entry(p3(105,7,35),identifier(p3(105,7,22),possible_actors),set_extension(p3(105,25,35),[identifier(p3(105,26,34),borrower)])),rec_entry(p3(106,7,21),identifier(p3(106,7,14),deontic),identifier(p3(106,17,21),'NCOb')),rec_entry(p5(1,107,7,111,8),identifier(p3(107,7,12),event),rec(p5(1,107,15,111,8),[rec_entry(p3(108,9,31),identifier(p3(108,9,13),name),identifier(p3(108,16,31),pay_accelerated)),rec_entry(p3(109,9,29),identifier(p3(109,9,22),is_preemptive),boolean_true(p3(109,25,29))),rec_entry(p3(110,9,30),identifier(p3(110,9,26),initial_timer_val),integer(p3(110,29,30),1))]))])]))),variables(p5(1,115,1,116,10),[identifier(p3(116,3,10),started)]),invariant(p5(1,118,1,119,17),member(p3(119,3,17),identifier(p3(119,3,10),started),bool_set(p3(119,13,17)))),initialisation(p5(1,121,1,122,19),assign(p3(122,3,19),[identifier(p3(122,3,10),started)],[boolean_false(p3(122,14,19))])),operations(p5(1,124,1,233,6),[operation(p5(1,125,3,132,8),identifier(p5(1,125,3,132,8),start),[],[],precondition(p5(1,126,5,132,8),equal(p3(127,7,22),identifier(p3(127,7,14),started),boolean_false(p3(127,17,22))),sequence(p5(1,129,7,131,45),[parallel(p5(1,129,7,130,23),[assign(p3(129,7,22),[identifier(p3(129,7,14),started)],[boolean_true(p3(129,18,22))]),operation_call(p3(130,7,16),identifier(p3(130,7,16),add_rules),[],[identifier(p3(130,17,23),rules0)])]),operation_call(p3(131,7,14),identifier(p3(131,7,14),trigger),[],[set_extension(p3(131,15,45),[couple(p3(131,16,44),[identifier(p3(131,17,33),'RequestPrincipal'),identifier(p3(131,35,43),borrower)])])])]))),operation(p5(1,134,3,140,6),identifier(p5(1,134,3,140,6),request_principal_happened),[],[identifier(p3(134,30,35),actor)],var(p5(1,134,39,140,6),[identifier(p3(134,43,53),rule_names)],sequence(p5(1,135,5,139,8),[operation_call(p3(135,5,57),identifier(p3(135,5,57),event_happened),[identifier(p3(135,5,15),rule_names)],[identifier(p3(135,33,50),request_principal),identifier(p3(135,52,57),actor)]),if(p5(1,137,5,139,8),member(p3(137,8,37),identifier(p3(137,8,24),'RequestPrincipal'),identifier(p3(137,27,37),rule_names)),operation_call(p3(138,7,14),identifier(p3(138,7,14),trigger),[],[set_extension(p3(138,15,40),[couple(p3(138,16,39),[identifier(p3(138,17,30),'SendPrincipal'),identifier(p3(138,32,38),lender)])])]),[],skip(none))]))),operation(p5(1,142,3,144,6),identifier(p5(1,142,3,144,6),request_principal_timeout),[],[identifier(p3(142,29,34),actor)],var(p5(1,142,38,144,6),[identifier(p3(142,42,52),rule_names)],operation_call(p3(143,5,56),identifier(p3(143,5,56),event_timeout),[identifier(p3(143,5,15),rule_names)],[identifier(p3(143,32,49),request_principal),identifier(p3(143,51,56),actor)]))),operation(p5(1,146,3,152,6),identifier(p5(1,146,3,152,6),send_principal_happened),[],[identifier(p3(146,27,32),actor)],var(p5(1,146,36,152,6),[identifier(p3(146,40,50),rule_names)],sequence(p5(1,147,5,151,8),[operation_call(p3(147,5,54),identifier(p3(147,5,54),event_happened),[identifier(p3(147,5,15),rule_names)],[identifier(p3(147,33,47),send_principal),identifier(p3(147,49,54),actor)]),if(p5(1,149,5,151,8),member(p3(149,8,34),identifier(p3(149,8,21),'SendPrincipal'),identifier(p3(149,24,34),rule_names)),operation_call(p3(150,7,14),identifier(p3(150,7,14),trigger),[],[set_extension(p3(150,15,65),[couple(p3(150,16,36),[identifier(p3(150,17,25),'Payment1'),identifier(p3(150,27,35),borrower)]),couple(p3(150,38,64),[identifier(p3(150,39,53),'EventOfDefault'),identifier(p3(150,55,63),borrower)])])]),[],skip(none))]))),operation(p5(1,154,3,156,6),identifier(p5(1,154,3,156,6),send_principal_timeout),[],[identifier(p3(154,26,31),actor)],var(p5(1,154,35,156,6),[identifier(p3(154,39,49),rule_names)],operation_call(p3(155,5,53),identifier(p3(155,5,53),event_timeout),[identifier(p3(155,5,15),rule_names)],[identifier(p3(155,32,46),send_principal),identifier(p3(155,48,53),actor)]))),operation(p5(1,158,3,164,6),identifier(p5(1,158,3,164,6),payment1_happened),[],[identifier(p3(158,21,26),actor)],var(p5(1,158,30,164,6),[identifier(p3(158,34,44),rule_names)],sequence(p5(1,159,5,163,8),[operation_call(p3(159,5,44),identifier(p3(159,5,44),event_happened),[identifier(p3(159,5,15),rule_names)],[identifier(p3(159,33,37),pay1),identifier(p3(159,39,44),actor)]),if(p5(1,161,5,163,8),member(p3(161,8,29),identifier(p3(161,8,16),'Payment1'),identifier(p3(161,19,29),rule_names)),operation_call(p3(162,7,14),identifier(p3(162,7,14),trigger),[],[set_extension(p3(162,15,34),[couple(p3(162,16,33),[identifier(p3(162,17,25),'Payment2'),identifier(p3(162,27,32),actor)])])]),[],skip(none))]))),operation(p5(1,166,3,172,6),identifier(p5(1,166,3,172,6),payment1_timeout),[],[identifier(p3(166,20,25),actor)],var(p5(1,166,29,172,6),[identifier(p3(166,33,43),rule_names)],sequence(p5(1,167,5,171,8),[operation_call(p3(167,5,43),identifier(p3(167,5,43),event_timeout),[identifier(p3(167,5,15),rule_names)],[identifier(p3(167,32,36),pay1),identifier(p3(167,38,43),actor)]),if(p5(1,169,5,171,8),member(p3(169,8,29),identifier(p3(169,8,16),'Payment1'),identifier(p3(169,19,29),rule_names)),operation_call(p3(170,7,14),identifier(p3(170,7,14),trigger),[],[set_extension(p3(170,15,60),[couple(p3(170,16,33),[identifier(p3(170,17,25),'Payment2'),identifier(p3(170,27,32),actor)]),couple(p3(170,35,59),[identifier(p3(170,36,50),'NotifyBorrower'),identifier(p3(170,52,58),lender)])])]),[],skip(none))]))),operation(p5(1,174,3,180,6),identifier(p5(1,174,3,180,6),payment2_happened),[],[identifier(p3(174,21,26),actor)],var(p5(1,174,30,180,6),[identifier(p3(174,34,44),rule_names)],sequence(p5(1,175,5,179,8),[operation_call(p3(175,5,44),identifier(p3(175,5,44),event_happened),[identifier(p3(175,5,15),rule_names)],[identifier(p3(175,33,37),pay2),identifier(p3(175,39,44),actor)]),if(p5(1,177,5,179,8),member(p3(177,8,29),identifier(p3(177,8,16),'Payment2'),identifier(p3(177,19,29),rule_names)),operation_call(p3(178,7,16),identifier(p3(178,7,16),discharge),[],[mult_or_cart(p3(178,17,33),identifier(p3(178,17,25),'RuleName'),identifier(p3(178,28,33),'Actor'))]),[],skip(none))]))),operation(p5(1,182,3,188,6),identifier(p5(1,182,3,188,6),payment2_timeout),[],[identifier(p3(182,20,25),actor)],var(p5(1,182,29,188,6),[identifier(p3(182,33,43),rule_names)],sequence(p5(1,183,5,187,8),[operation_call(p3(183,5,43),identifier(p3(183,5,43),event_timeout),[identifier(p3(183,5,15),rule_names)],[identifier(p3(183,32,36),pay2),identifier(p3(183,38,43),actor)]),if(p5(1,185,5,187,8),member(p3(185,8,29),identifier(p3(185,8,16),'Payment2'),identifier(p3(185,19,29),rule_names)),operation_call(p3(186,7,14),identifier(p3(186,7,14),trigger),[],[set_extension(p3(186,15,41),[couple(p3(186,16,40),[identifier(p3(186,17,31),'NotifyBorrower'),identifier(p3(186,33,39),lender)])])]),[],skip(none))]))),operation(p5(1,190,3,192,6),identifier(p5(1,190,3,192,6),pay_accelerated_happened),[],[identifier(p3(190,28,33),actor)],var(p5(1,190,37,192,6),[identifier(p3(190,41,51),rule_names)],operation_call(p3(191,5,55),identifier(p3(191,5,55),event_happened),[identifier(p3(191,5,15),rule_names)],[identifier(p3(191,33,48),pay_accelerated),identifier(p3(191,50,55),actor)]))),operation(p5(1,194,3,196,6),identifier(p5(1,194,3,196,6),pay_accelerated_timeout),[],[identifier(p3(194,27,32),actor)],var(p5(1,194,36,196,6),[identifier(p3(194,40,50),rule_names)],operation_call(p3(195,5,54),identifier(p3(195,5,54),event_timeout),[identifier(p3(195,5,15),rule_names)],[identifier(p3(195,32,47),pay_accelerated),identifier(p3(195,49,54),actor)]))),operation(p5(1,198,3,204,6),identifier(p5(1,198,3,204,6),event_of_default_happened),[],[identifier(p3(198,29,34),actor)],var(p5(1,198,38,204,6),[identifier(p3(198,42,52),rule_names)],sequence(p5(1,199,5,203,8),[operation_call(p3(199,5,56),identifier(p3(199,5,56),event_happened),[identifier(p3(199,5,15),rule_names)],[identifier(p3(199,33,49),event_of_default),identifier(p3(199,51,56),actor)]),if(p5(1,201,5,203,8),member(p3(201,8,35),identifier(p3(201,8,22),'EventOfDefault'),identifier(p3(201,25,35),rule_names)),operation_call(p3(202,7,14),identifier(p3(202,7,14),trigger),[],[set_extension(p3(202,15,41),[couple(p3(202,16,40),[identifier(p3(202,17,31),'NotifyBorrower'),identifier(p3(202,33,39),lender)])])]),[],skip(none))]))),operation(p5(1,206,3,208,6),identifier(p5(1,206,3,208,6),event_of_default_timeout),[],[identifier(p3(206,28,33),actor)],var(p5(1,206,37,208,6),[identifier(p3(206,41,51),rule_names)],operation_call(p3(207,5,55),identifier(p3(207,5,55),event_timeout),[identifier(p3(207,5,15),rule_names)],[identifier(p3(207,32,48),event_of_default),identifier(p3(207,50,55),actor)]))),operation(p5(1,210,3,216,6),identifier(p5(1,210,3,216,6),notify_borrower_happened),[],[identifier(p3(210,28,33),actor)],var(p5(1,210,37,216,6),[identifier(p3(210,41,51),rule_names)],sequence(p5(1,211,5,215,8),[operation_call(p3(211,5,55),identifier(p3(211,5,55),event_happened),[identifier(p3(211,5,15),rule_names)],[identifier(p3(211,33,48),notify_borrower),identifier(p3(211,50,55),actor)]),if(p5(1,213,5,215,8),member(p3(213,8,35),identifier(p3(213,8,22),'NotifyBorrower'),identifier(p3(213,25,35),rule_names)),operation_call(p3(214,7,14),identifier(p3(214,7,14),trigger),[],[set_extension(p3(214,15,40),[couple(p3(214,16,39),[identifier(p3(214,17,28),'CureDefault'),identifier(p3(214,30,38),borrower)])])]),[],skip(none))]))),operation(p5(1,218,3,220,6),identifier(p5(1,218,3,220,6),notify_borrower_timeout),[],[identifier(p3(218,27,32),actor)],var(p5(1,218,36,220,6),[identifier(p3(218,40,50),rule_names)],operation_call(p3(219,5,54),identifier(p3(219,5,54),event_timeout),[identifier(p3(219,5,15),rule_names)],[identifier(p3(219,32,47),notify_borrower),identifier(p3(219,49,54),actor)]))),operation(p5(1,222,3,224,6),identifier(p5(1,222,3,224,6),cure_default_happened),[],[identifier(p3(222,25,30),actor)],var(p5(1,222,34,224,6),[identifier(p3(222,38,48),rule_names)],operation_call(p3(223,5,52),identifier(p3(223,5,52),event_happened),[identifier(p3(223,5,15),rule_names)],[identifier(p3(223,33,45),cure_default),identifier(p3(223,47,52),actor)]))),operation(p5(1,226,3,233,6),identifier(p5(1,226,3,233,6),cure_default_timeout),[],[identifier(p3(226,24,29),actor)],var(p5(1,226,33,233,6),[identifier(p3(226,37,47),rule_names)],sequence(p5(1,227,5,232,8),[operation_call(p3(227,5,51),identifier(p3(227,5,51),event_timeout),[identifier(p3(227,5,15),rule_names)],[identifier(p3(227,32,44),cure_default),identifier(p3(227,46,51),actor)]),if(p5(1,229,5,232,8),member(p3(229,8,32),identifier(p3(229,8,19),'CureDefault'),identifier(p3(229,22,32),rule_names)),sequence(p5(1,230,7,231,43),[operation_call(p3(230,7,16),identifier(p3(230,7,16),discharge),[],[mult_or_cart(p3(230,17,33),identifier(p3(230,17,25),'RuleName'),identifier(p3(230,28,33),'Actor'))]),operation_call(p3(231,7,14),identifier(p3(231,7,14),trigger),[],[set_extension(p3(231,15,43),[couple(p3(231,16,42),[identifier(p3(231,17,31),'PayAccelerated'),identifier(p3(231,33,41),borrower)])])])]),[],skip(none))])))])])).
