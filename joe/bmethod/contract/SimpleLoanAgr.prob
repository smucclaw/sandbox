parser_version('7306d13499ba281a6e336c006d9fb23204624daa').
classical_b('SimpleLoanAgr',['/home/joe/dev/smucclaw/sandbox/joe/bmethod/contract/SimpleLoanAgr.mch','/home/joe/dev/smucclaw/sandbox/joe/bmethod/contract/CommonDefs.def','/home/joe/dev/smucclaw/sandbox/joe/bmethod/contract/AbstractContract.mch']).
machine(abstract_machine(p5(3,1,1,194,4),system(p4(3,1,1,7)),machine_header(p4(3,1,8,24),'AbstractContract',[]),[definitions(p5(3,34,1,35,19),[expression_definition(p4(2,21,3,27),'Some',[],lambda(p4(2,21,11,27),[identifier(p4(2,21,13,14),x)],definition(p4(2,21,17,20),'Top',[]),set_extension(p4(2,21,23,26),[identifier(p4(2,21,24,25),x)]))),predicate_definition(p4(2,2,3,21),'Top',[],equal(p4(2,2,10,21),boolean_true(p4(2,2,10,14)),boolean_true(p4(2,2,17,21)))),predicate_definition(p4(2,3,3,25),'Bottom',[],equal(p4(2,3,13,25),boolean_true(p4(2,3,13,17)),boolean_false(p4(2,3,20,25)))),expression_definition(p5(2,5,3,9,4),'Event',[],struct(p5(2,5,12,9,4),[rec_entry(p4(2,6,5,21),identifier(p4(2,6,5,9),name),identifier(p4(2,6,12,21),'EventName')),rec_entry(p4(2,7,5,25),identifier(p4(2,7,5,18),is_preemptive),bool_set(p4(2,7,21,25))),rec_entry(p4(2,8,5,27),identifier(p4(2,8,5,22),initial_timer_val),natural1_set(p4(2,8,25,27)))])),expression_definition(p4(2,19,3,32),'Option',[identifier(p4(2,19,10,11),'T')],union(p4(2,19,16,32),set_extension(p4(2,19,16,22),[definition(p4(2,19,17,21),'None',[])]),image(p4(2,19,25,32),definition(p4(2,19,25,29),'Some',[]),identifier(p4(2,19,30,31),'T')))),expression_definition(p5(2,11,3,16,4),'Rule',[],struct(p5(2,11,11,16,4),[rec_entry(p4(2,12,5,20),identifier(p4(2,12,5,9),name),identifier(p4(2,12,12,20),'RuleName')),rec_entry(p4(2,13,5,31),identifier(p4(2,13,5,20),possible_actors),pow_subset(p4(2,13,23,31),identifier(p4(2,13,25,30),'Actor'))),rec_entry(p4(2,14,5,22),identifier(p4(2,14,5,12),deontic),identifier(p4(2,14,15,22),'Deontic')),rec_entry(p4(2,15,5,18),identifier(p4(2,15,5,10),event),definition(p4(2,15,13,18),'Event',[]))])),expression_definition(p4(2,20,3,12),'None',[],empty_set(p4(2,20,11,12)))]),sets(p5(3,37,1,48,29),[enumerated_set(p5(3,38,3,44,4),'Deontic',[identifier(p4(3,39,5,8),'COb'),identifier(p4(3,40,5,9),'NCOb'),identifier(p4(3,41,5,12),'CProhib'),identifier(p4(3,42,5,13),'NCProhib'),identifier(p4(3,43,5,9),'Perm')]),enumerated_set(p4(3,46,3,40),'HappenedTimeout',[identifier(p4(3,46,22,30),happened),identifier(p4(3,46,32,39),timeout)]),deferred_set(p4(3,48,3,8),'Actor'),deferred_set(p4(3,48,10,18),'RuleName'),deferred_set(p4(3,48,20,29),'EventName')]),constants(p5(3,50,1,51,16),[identifier(p4(3,51,3,16),get_rule_name)]),properties(p5(3,53,1,54,52),equal(p4(3,54,3,52),identifier(p4(3,54,3,16),get_rule_name),lambda(p4(3,54,19,52),[identifier(p4(3,54,21,25),rule)],member(p4(3,54,28,39),identifier(p4(3,54,28,32),rule),definition(p4(3,54,35,39),'Rule',[])),record_field(p4(3,54,42,51),identifier(p4(3,54,42,46),rule),identifier(p4(3,54,47,51),name))))),variables(p5(3,56,1,57,35),[identifier(p4(3,57,3,8),rules),identifier(p4(3,57,10,21),breached_by),identifier(p4(3,57,23,35),active_rules)]),invariant(p5(3,59,1,72,4),conjunct(p5(3,60,3,72,4),[subset(p4(3,60,3,15),identifier(p4(3,60,3,8),rules),definition(p4(3,60,11,15),'Rule',[])),member(p4(3,61,3,30),identifier(p4(3,61,3,14),breached_by),definition(p4(3,61,17,30),'Option',[identifier(p4(3,61,24,29),'Actor')])),member(p4(3,63,3,38),identifier(p4(3,63,3,15),active_rules),relations(p4(3,63,18,38),mult_or_cart(p4(3,63,18,34),identifier(p4(3,63,18,26),'RuleName'),identifier(p4(3,63,29,34),'Actor')),natural_set(p4(3,63,37,38)))),forall(p5(3,64,3,72,4),[identifier(p4(3,64,5,14),rule_name),identifier(p4(3,64,16,21),actor),identifier(p4(3,64,23,32),timer_val)],implication(p5(3,65,5,71,6),member(p4(3,65,5,49),couple(p4(3,65,5,34),[identifier(p4(3,65,6,15),rule_name),identifier(p4(3,65,17,22),actor),identifier(p4(3,65,24,33),timer_val)]),identifier(p4(3,65,37,49),active_rules)),exists(p5(3,66,5,71,6),[identifier(p4(3,66,7,11),rule)],conjunct(p5(3,66,14,70,47),[member(p4(3,66,14,26),identifier(p4(3,66,14,18),rule),identifier(p4(3,66,21,26),rules)),equal(p4(3,67,7,28),record_field(p4(3,67,7,16),identifier(p4(3,67,7,11),rule),identifier(p4(3,67,12,16),name)),identifier(p4(3,67,19,28),rule_name)),member(p4(3,68,7,35),identifier(p4(3,68,7,12),actor),record_field(p4(3,68,15,35),identifier(p4(3,68,15,19),rule),identifier(p4(3,68,20,35),possible_actors))),less_equal(p4(3,70,7,47),identifier(p4(3,70,7,16),timer_val),record_field(p4(3,70,19,47),record_field(p4(3,70,19,29),identifier(p4(3,70,19,23),rule),identifier(p4(3,70,24,29),event)),identifier(p4(3,70,30,47),initial_timer_val)))]))))])),initialisation(p5(3,74,1,75,46),assign(p4(3,75,3,46),[identifier(p4(3,75,3,8),rules),identifier(p4(3,75,10,21),breached_by),identifier(p4(3,75,23,35),active_rules)],[empty_set(p4(3,75,39,40)),empty_set(p4(3,75,42,43)),empty_set(p4(3,75,45,46))])),operations(p5(3,77,1,192,8),[operation(p5(3,78,3,83,8),identifier(p5(3,78,3,83,8),add_rules),[],[identifier(p4(3,78,13,25),rules_to_add)],precondition(p5(3,79,5,83,8),subset(p4(3,80,7,26),identifier(p4(3,80,7,19),rules_to_add),definition(p4(3,80,22,26),'Rule',[])),assign(p4(3,82,7,36),[identifier(p4(3,82,7,12),rules)],[union(p4(3,82,16,36),identifier(p4(3,82,16,21),rules),identifier(p4(3,82,24,36),rules_to_add))]))),operation(p5(3,85,3,90,8),identifier(p5(3,85,3,90,8),remove_rules),[],[identifier(p4(3,85,16,31),rules_to_remove)],precondition(p5(3,86,5,90,8),subset(p4(3,87,7,29),identifier(p4(3,87,7,22),rules_to_remove),definition(p4(3,87,25,29),'Rule',[])),assign(p4(3,89,7,39),[identifier(p4(3,89,7,12),rules)],[set_subtraction(p4(3,89,16,39),identifier(p4(3,89,16,21),rules),identifier(p4(3,89,24,39),rules_to_remove))]))),operation(p5(3,93,3,104,8),identifier(p5(3,93,3,104,8),tick),[],[],precondition(p5(3,94,5,104,8),conjunct(p5(3,97,7,99,32),[not_equal(p4(3,97,7,16),identifier(p4(3,97,7,12),rules),empty_set(p4(3,97,15,16))),equal(p4(3,98,7,25),identifier(p4(3,98,7,18),breached_by),definition(p4(3,98,21,25),'None',[])),member(p4(3,99,7,32),range(p4(3,99,7,24),identifier(p4(3,99,11,23),active_rules)),pow_subset(p4(3,99,27,32),natural1_set(p4(3,99,29,31))))]),assign(p5(3,101,7,103,8),[identifier(p4(3,101,7,19),active_rules)],[comprehension_set(p5(3,101,23,103,8),[identifier(p4(3,101,24,33),rule_name),identifier(p4(3,101,35,40),actor),identifier(p4(3,101,42,51),timer_val)],member(p4(3,102,9,57),couple(p4(3,102,9,42),[identifier(p4(3,102,10,19),rule_name),identifier(p4(3,102,21,26),actor),add(p4(3,102,28,41),identifier(p4(3,102,28,37),timer_val),integer(p4(3,102,40,41),1))]),identifier(p4(3,102,45,57),active_rules)))]))),operation(p5(3,110,3,137,8),identifier(p5(3,110,3,137,8),event_happened),[identifier(p4(3,110,3,22),relevant_rule_names)],[identifier(p4(3,110,40,50),event_name),identifier(p4(3,110,52,57),actor)],any(p5(3,111,5,137,8),[identifier(p4(3,111,9,23),relevant_rules)],conjunct(p5(3,112,7,121,8),[equal(p4(3,112,7,25),identifier(p4(3,112,7,18),breached_by),definition(p4(3,112,21,25),'None',[])),not_equal(p4(3,113,7,25),identifier(p4(3,113,7,21),relevant_rules),empty_set(p4(3,113,24,25))),equal(p5(3,114,7,121,8),identifier(p4(3,114,7,21),relevant_rules),comprehension_set(p5(3,114,24,121,8),[identifier(p4(3,114,25,29),rule)],conjunct(p5(3,115,9,120,10),[member(p4(3,115,9,21),identifier(p4(3,115,9,13),rule),identifier(p4(3,115,16,21),rules)),exists(p5(3,116,9,120,10),[identifier(p4(3,116,11,20),timer_val)],conjunct(p5(3,117,11,119,39),[member(p4(3,117,11,55),couple(p4(3,117,11,40),[record_field(p4(3,117,12,21),identifier(p4(3,117,12,16),rule),identifier(p4(3,117,17,21),name)),identifier(p4(3,117,23,28),actor),identifier(p4(3,117,30,39),timer_val)]),identifier(p4(3,117,43,55),active_rules)),implication(p4(3,118,12,60),equal(p4(3,118,12,44),record_field(p4(3,118,12,36),record_field(p4(3,118,12,22),identifier(p4(3,118,12,16),rule),identifier(p4(3,118,17,22),event)),identifier(p4(3,118,23,36),is_preemptive)),boolean_false(p4(3,118,39,44))),equal(p4(3,118,47,60),identifier(p4(3,118,47,56),timer_val),integer(p4(3,118,59,60),0))),equal(p4(3,119,11,39),record_field(p4(3,119,11,26),record_field(p4(3,119,11,21),identifier(p4(3,119,11,15),rule),identifier(p4(3,119,16,21),event)),identifier(p4(3,119,22,26),name)),identifier(p4(3,119,29,39),event_name))]))])))]),parallel(p5(3,123,7,136,10),[assign(p4(3,123,7,59),[identifier(p4(3,123,7,26),relevant_rule_names)],[image(p4(3,123,30,59),identifier(p4(3,123,30,43),get_rule_name),identifier(p4(3,123,44,58),relevant_rules))]),if(p5(3,124,7,136,10),exists(p4(3,124,10,67),[identifier(p4(3,124,12,16),rule)],conjunct(p4(3,124,19,66),[member(p4(3,124,19,40),identifier(p4(3,124,19,23),rule),identifier(p4(3,124,26,40),relevant_rules)),equal(p4(3,124,43,66),record_field(p4(3,124,43,55),identifier(p4(3,124,43,47),rule),identifier(p4(3,124,48,55),deontic)),identifier(p4(3,124,58,66),'NCProhib'))])),assign(p4(3,126,9,52),[identifier(p4(3,126,9,20),breached_by),identifier(p4(3,126,22,34),active_rules)],[function(p4(3,126,38,49),definition(p4(3,126,38,42),'Some',[]),[identifier(p4(3,126,43,48),actor)]),empty_set(p4(3,126,51,52))]),[],let(p5(3,128,9,135,12),[identifier(p4(3,128,13,22),to_remove)],equal(p5(3,129,11,132,12),identifier(p4(3,129,11,20),to_remove),comprehension_set(p5(3,129,23,132,12),[identifier(p4(3,129,24,33),rule_name),identifier(p4(3,129,35,40),actor),identifier(p4(3,129,42,51),timer_val)],conjunct(p5(3,130,13,131,68),[member(p4(3,130,13,57),couple(p4(3,130,13,42),[identifier(p4(3,130,14,23),rule_name),identifier(p4(3,130,25,30),actor),identifier(p4(3,130,32,41),timer_val)]),identifier(p4(3,130,45,57),active_rules)),exists(p4(3,131,13,68),[identifier(p4(3,131,15,19),rule)],conjunct(p4(3,131,22,67),[member(p4(3,131,22,43),identifier(p4(3,131,22,26),rule),identifier(p4(3,131,29,43),relevant_rules)),equal(p4(3,131,46,67),record_field(p4(3,131,46,55),identifier(p4(3,131,46,50),rule),identifier(p4(3,131,51,55),name)),identifier(p4(3,131,58,67),rule_name))]))]))),assign(p4(3,134,11,51),[identifier(p4(3,134,11,23),active_rules)],[set_subtraction(p4(3,134,27,51),identifier(p4(3,134,27,39),active_rules),identifier(p4(3,134,42,51),to_remove))])))]))),operation(p5(3,139,3,164,8),identifier(p5(3,139,3,164,8),event_timeout),[identifier(p4(3,139,3,22),relevant_rule_names)],[identifier(p4(3,139,39,49),event_name),identifier(p4(3,139,51,56),actor)],any(p5(3,140,5,164,8),[identifier(p4(3,140,9,23),relevant_rules)],conjunct(p5(3,141,7,147,8),[equal(p4(3,141,7,25),identifier(p4(3,141,7,18),breached_by),definition(p4(3,141,21,25),'None',[])),not_equal(p4(3,142,7,25),identifier(p4(3,142,7,21),relevant_rules),empty_set(p4(3,142,24,25))),equal(p5(3,143,7,147,8),identifier(p4(3,143,7,21),relevant_rules),comprehension_set(p5(3,143,24,147,8),[identifier(p4(3,143,25,29),rule)],conjunct(p5(3,144,9,146,37),[member(p4(3,144,9,21),identifier(p4(3,144,9,13),rule),identifier(p4(3,144,16,21),rules)),member(p4(3,145,9,45),couple(p4(3,145,9,30),[record_field(p4(3,145,10,19),identifier(p4(3,145,10,14),rule),identifier(p4(3,145,15,19),name)),identifier(p4(3,145,21,26),actor),integer(p4(3,145,28,29),0)]),identifier(p4(3,145,33,45),active_rules)),equal(p4(3,146,9,37),record_field(p4(3,146,9,24),record_field(p4(3,146,9,19),identifier(p4(3,146,9,13),rule),identifier(p4(3,146,14,19),event)),identifier(p4(3,146,20,24),name)),identifier(p4(3,146,27,37),event_name))])))]),parallel(p5(3,149,7,163,10),[assign(p4(3,149,7,59),[identifier(p4(3,149,7,26),relevant_rule_names)],[image(p4(3,149,30,59),identifier(p4(3,149,30,43),get_rule_name),identifier(p4(3,149,44,58),relevant_rules))]),if(p5(3,150,7,163,10),exists(p4(3,150,10,63),[identifier(p4(3,150,12,16),rule)],conjunct(p4(3,150,19,62),[member(p4(3,150,19,40),identifier(p4(3,150,19,23),rule),identifier(p4(3,150,26,40),relevant_rules)),equal(p4(3,150,43,62),record_field(p4(3,150,43,55),identifier(p4(3,150,43,47),rule),identifier(p4(3,150,48,55),deontic)),identifier(p4(3,150,58,62),'NCOb'))])),assign(p4(3,152,9,52),[identifier(p4(3,152,9,20),breached_by),identifier(p4(3,152,22,34),active_rules)],[function(p4(3,152,38,49),definition(p4(3,152,38,42),'Some',[]),[identifier(p4(3,152,43,48),actor)]),empty_set(p4(3,152,51,52))]),[],let(p5(3,154,9,162,12),[identifier(p4(3,154,13,22),to_remove)],equal(p5(3,155,11,159,12),identifier(p4(3,155,11,20),to_remove),comprehension_set(p5(3,155,23,159,12),[identifier(p4(3,155,24,33),rule_name),identifier(p4(3,155,35,40),actor),identifier(p4(3,155,42,51),timer_val)],conjunct(p5(3,156,13,158,68),[member(p4(3,156,13,57),couple(p4(3,156,13,42),[identifier(p4(3,156,14,23),rule_name),identifier(p4(3,156,25,30),actor),identifier(p4(3,156,32,41),timer_val)]),identifier(p4(3,156,45,57),active_rules)),equal(p4(3,157,13,26),identifier(p4(3,157,13,22),timer_val),integer(p4(3,157,25,26),0)),exists(p4(3,158,13,68),[identifier(p4(3,158,15,19),rule)],conjunct(p4(3,158,22,67),[member(p4(3,158,22,43),identifier(p4(3,158,22,26),rule),identifier(p4(3,158,29,43),relevant_rules)),equal(p4(3,158,46,67),record_field(p4(3,158,46,55),identifier(p4(3,158,46,50),rule),identifier(p4(3,158,51,55),name)),identifier(p4(3,158,58,67),rule_name))]))]))),assign(p4(3,161,11,51),[identifier(p4(3,161,11,23),active_rules)],[set_subtraction(p4(3,161,27,51),identifier(p4(3,161,27,39),active_rules),identifier(p4(3,161,42,51),to_remove))])))]))),operation(p5(3,166,3,180,8),identifier(p5(3,166,3,180,8),trigger),[],[identifier(p4(3,166,11,19),triggers)],any(p5(3,167,5,180,8),[identifier(p4(3,167,9,23),timed_triggers)],conjunct(p5(3,168,7,177,8),[equal(p4(3,168,7,25),identifier(p4(3,168,7,18),breached_by),definition(p4(3,168,21,25),'None',[])),member(p4(3,169,7,34),identifier(p4(3,169,7,15),triggers),relations(p4(3,169,18,34),identifier(p4(3,169,18,26),'RuleName'),identifier(p4(3,169,29,34),'Actor'))),equal(p5(3,170,7,177,8),identifier(p4(3,170,7,21),timed_triggers),comprehension_set(p5(3,170,24,177,8),[identifier(p4(3,170,25,34),rule_name),identifier(p4(3,170,36,41),actor),identifier(p4(3,170,43,53),timer_val0)],conjunct(p5(3,171,9,176,10),[member(p4(3,171,9,38),couple(p4(3,171,9,27),[identifier(p4(3,171,10,19),rule_name),identifier(p4(3,171,21,26),actor)]),identifier(p4(3,171,30,38),triggers)),exists(p5(3,172,9,176,10),[identifier(p4(3,172,11,15),rule)],conjunct(p5(3,172,18,175,52),[member(p4(3,172,18,30),identifier(p4(3,172,18,22),rule),identifier(p4(3,172,25,30),rules)),equal(p4(3,173,11,32),record_field(p4(3,173,11,20),identifier(p4(3,173,11,15),rule),identifier(p4(3,173,16,20),name)),identifier(p4(3,173,23,32),rule_name)),member(p4(3,174,11,39),identifier(p4(3,174,11,16),actor),record_field(p4(3,174,19,39),identifier(p4(3,174,19,23),rule),identifier(p4(3,174,24,39),possible_actors))),equal(p4(3,175,11,52),identifier(p4(3,175,11,21),timer_val0),record_field(p4(3,175,24,52),record_field(p4(3,175,24,34),identifier(p4(3,175,24,28),rule),identifier(p4(3,175,29,34),event)),identifier(p4(3,175,35,52),initial_timer_val)))]))])))]),assign(p4(3,179,7,52),[identifier(p4(3,179,7,19),active_rules)],[union(p4(3,179,23,52),identifier(p4(3,179,23,35),active_rules),identifier(p4(3,179,38,52),timed_triggers))]))),operation(p5(3,182,3,192,8),identifier(p5(3,182,3,192,8),discharge),[],[identifier(p4(3,182,13,23),discharges)],any(p5(3,183,5,192,8),[identifier(p4(3,183,9,25),timed_discharges)],conjunct(p5(3,184,7,189,8),[equal(p4(3,184,7,25),identifier(p4(3,184,7,18),breached_by),definition(p4(3,184,21,25),'None',[])),member(p4(3,185,7,36),identifier(p4(3,185,7,17),discharges),relations(p4(3,185,20,36),identifier(p4(3,185,20,28),'RuleName'),identifier(p4(3,185,31,36),'Actor'))),equal(p5(3,186,7,189,8),identifier(p4(3,186,7,23),timed_discharges),comprehension_set(p5(3,186,26,189,8),[identifier(p4(3,186,27,36),rule_name),identifier(p4(3,186,38,43),actor),identifier(p4(3,186,45,54),timer_val)],conjunct(p5(3,187,9,188,40),[member(p4(3,187,9,53),couple(p4(3,187,9,38),[identifier(p4(3,187,10,19),rule_name),identifier(p4(3,187,21,26),actor),identifier(p4(3,187,28,37),timer_val)]),identifier(p4(3,187,41,53),active_rules)),member(p4(3,188,9,40),couple(p4(3,188,9,27),[identifier(p4(3,188,10,19),rule_name),identifier(p4(3,188,21,26),actor)]),identifier(p4(3,188,30,40),discharges))])))]),assign(p4(3,191,7,54),[identifier(p4(3,191,7,19),active_rules)],[set_subtraction(p4(3,191,23,54),identifier(p4(3,191,23,35),active_rules),identifier(p4(3,191,38,54),timed_discharges))])))])])).
machine(abstract_machine(p5(1,1,1,248,4),system(p3(1,1,7)),machine_header(p3(1,8,21),'SimpleLoanAgr',[]),[includes(p3(3,1,26),[machine_reference(p3(3,10,26),'AbstractContract',[])]),promotes(p3(4,1,14),[identifier(p3(4,10,14),tick)]),definitions(p5(1,6,1,7,19),[expression_definition(p4(2,21,3,27),'Some',[],lambda(p4(2,21,11,27),[identifier(p4(2,21,13,14),x)],definition(p4(2,21,17,20),'Top',[]),set_extension(p4(2,21,23,26),[identifier(p4(2,21,24,25),x)]))),predicate_definition(p4(2,2,3,21),'Top',[],equal(p4(2,2,10,21),boolean_true(p4(2,2,10,14)),boolean_true(p4(2,2,17,21)))),predicate_definition(p4(2,3,3,25),'Bottom',[],equal(p4(2,3,13,25),boolean_true(p4(2,3,13,17)),boolean_false(p4(2,3,20,25)))),expression_definition(p5(2,5,3,9,4),'Event',[],struct(p5(2,5,12,9,4),[rec_entry(p4(2,6,5,21),identifier(p4(2,6,5,9),name),identifier(p4(2,6,12,21),'EventName')),rec_entry(p4(2,7,5,25),identifier(p4(2,7,5,18),is_preemptive),bool_set(p4(2,7,21,25))),rec_entry(p4(2,8,5,27),identifier(p4(2,8,5,22),initial_timer_val),natural1_set(p4(2,8,25,27)))])),expression_definition(p4(2,19,3,32),'Option',[identifier(p4(2,19,10,11),'T')],union(p4(2,19,16,32),set_extension(p4(2,19,16,22),[definition(p4(2,19,17,21),'None',[])]),image(p4(2,19,25,32),definition(p4(2,19,25,29),'Some',[]),identifier(p4(2,19,30,31),'T')))),expression_definition(p5(2,11,3,16,4),'Rule',[],struct(p5(2,11,11,16,4),[rec_entry(p4(2,12,5,20),identifier(p4(2,12,5,9),name),identifier(p4(2,12,12,20),'RuleName')),rec_entry(p4(2,13,5,31),identifier(p4(2,13,5,20),possible_actors),pow_subset(p4(2,13,23,31),identifier(p4(2,13,25,30),'Actor'))),rec_entry(p4(2,14,5,22),identifier(p4(2,14,5,12),deontic),identifier(p4(2,14,15,22),'Deontic')),rec_entry(p4(2,15,5,18),identifier(p4(2,15,5,10),event),definition(p4(2,15,13,18),'Event',[]))])),expression_definition(p4(2,20,3,12),'None',[],empty_set(p4(2,20,11,12)))]),constants(p5(1,9,1,19,50),[identifier(p3(10,3,9),rules0),identifier(p3(12,3,11),borrower),identifier(p3(12,13,19),lender),identifier(p3(14,3,19),'RequestPrincipal'),identifier(p3(14,21,34),'SendPrincipal'),identifier(p3(15,3,11),'Payment1'),identifier(p3(15,13,21),'Payment2'),identifier(p3(15,23,37),'PayAccelerated'),identifier(p3(16,3,17),'EventOfDefault'),identifier(p3(16,19,33),'NotifyBorrower'),identifier(p3(16,35,46),'CureDefault'),identifier(p3(18,3,20),request_principal),identifier(p3(18,22,36),send_principal),identifier(p3(18,38,42),pay1),identifier(p3(18,44,48),pay2),identifier(p3(18,50,65),pay_accelerated),identifier(p3(19,3,19),event_of_default),identifier(p3(19,21,36),notify_borrower),identifier(p3(19,38,50),cure_default)]),properties(p5(1,21,1,126,4),conjunct(p5(1,22,3,126,4),[equal(p3(22,3,18),card(p3(22,3,14),identifier(p3(22,8,13),'Actor')),integer(p3(22,17,18),2)),equal(p3(23,3,29),identifier(p3(23,3,8),'Actor'),set_extension(p3(23,11,29),[identifier(p3(23,12,20),borrower),identifier(p3(23,22,28),lender)])),equal(p3(25,3,21),card(p3(25,3,17),identifier(p3(25,8,16),'RuleName')),integer(p3(25,20,21),8)),equal(p5(1,26,3,30,4),identifier(p3(26,3,11),'RuleName'),set_extension(p5(1,26,14,30,4),[identifier(p3(27,5,21),'RequestPrincipal'),identifier(p3(27,23,36),'SendPrincipal'),identifier(p3(28,5,13),'Payment1'),identifier(p3(28,15,23),'Payment2'),identifier(p3(28,25,39),'PayAccelerated'),identifier(p3(29,5,19),'EventOfDefault'),identifier(p3(29,21,35),'NotifyBorrower'),identifier(p3(29,37,48),'CureDefault')])),equal(p3(32,3,22),card(p3(32,3,18),identifier(p3(32,8,17),'EventName')),integer(p3(32,21,22),8)),equal(p5(1,33,3,36,4),identifier(p3(33,3,12),'EventName'),set_extension(p5(1,33,15,36,4),[identifier(p3(34,5,22),request_principal),identifier(p3(34,24,38),send_principal),identifier(p3(34,40,44),pay1),identifier(p3(34,46,50),pay2),identifier(p3(34,52,67),pay_accelerated),identifier(p3(35,5,21),event_of_default),identifier(p3(35,23,38),notify_borrower),identifier(p3(35,40,52),cure_default)])),equal(p5(1,38,3,126,4),identifier(p3(38,3,9),rules0),set_extension(p5(1,38,12,126,4),[rec(p5(1,39,5,48,6),[rec_entry(p3(40,7,30),identifier(p3(40,7,11),name),identifier(p3(40,14,30),'RequestPrincipal')),rec_entry(p3(41,7,35),identifier(p3(41,7,22),possible_actors),set_extension(p3(41,25,35),[identifier(p3(41,26,34),borrower)])),rec_entry(p3(42,7,20),identifier(p3(42,7,14),deontic),identifier(p3(42,17,20),'COb')),rec_entry(p5(1,43,7,47,8),identifier(p3(43,7,12),event),rec(p5(1,43,15,47,8),[rec_entry(p3(44,9,33),identifier(p3(44,9,13),name),identifier(p3(44,16,33),request_principal)),rec_entry(p3(45,9,29),identifier(p3(45,9,22),is_preemptive),boolean_true(p3(45,25,29))),rec_entry(p3(46,9,30),identifier(p3(46,9,26),initial_timer_val),integer(p3(46,29,30),1))]))]),rec(p5(1,50,5,59,6),[rec_entry(p3(51,7,27),identifier(p3(51,7,11),name),identifier(p3(51,14,27),'SendPrincipal')),rec_entry(p3(52,7,33),identifier(p3(52,7,22),possible_actors),set_extension(p3(52,25,33),[identifier(p3(52,26,32),lender)])),rec_entry(p3(53,7,21),identifier(p3(53,7,14),deontic),identifier(p3(53,17,21),'NCOb')),rec_entry(p5(1,54,7,58,8),identifier(p3(54,7,12),event),rec(p5(1,54,15,58,8),[rec_entry(p3(55,9,30),identifier(p3(55,9,13),name),identifier(p3(55,16,30),send_principal)),rec_entry(p3(56,9,29),identifier(p3(56,9,22),is_preemptive),boolean_true(p3(56,25,29))),rec_entry(p3(57,9,30),identifier(p3(57,9,26),initial_timer_val),integer(p3(57,29,30),3))]))]),rec(p5(1,61,5,70,6),[rec_entry(p3(62,7,22),identifier(p3(62,7,11),name),identifier(p3(62,14,22),'Payment1')),rec_entry(p3(63,7,35),identifier(p3(63,7,22),possible_actors),set_extension(p3(63,25,35),[identifier(p3(63,26,34),borrower)])),rec_entry(p3(64,7,20),identifier(p3(64,7,14),deontic),identifier(p3(64,17,20),'COb')),rec_entry(p5(1,65,7,69,8),identifier(p3(65,7,12),event),rec(p5(1,65,15,69,8),[rec_entry(p3(66,9,20),identifier(p3(66,9,13),name),identifier(p3(66,16,20),pay1)),rec_entry(p3(67,9,30),identifier(p3(67,9,22),is_preemptive),boolean_false(p3(67,25,30))),rec_entry(p3(68,9,31),identifier(p3(68,9,26),initial_timer_val),integer(p3(68,29,31),10))]))]),rec(p5(1,72,5,81,6),[rec_entry(p3(73,7,22),identifier(p3(73,7,11),name),identifier(p3(73,14,22),'Payment2')),rec_entry(p3(74,7,35),identifier(p3(74,7,22),possible_actors),set_extension(p3(74,25,35),[identifier(p3(74,26,34),borrower)])),rec_entry(p3(75,7,20),identifier(p3(75,7,14),deontic),identifier(p3(75,17,20),'COb')),rec_entry(p5(1,76,7,80,8),identifier(p3(76,7,12),event),rec(p5(1,76,15,80,8),[rec_entry(p3(77,9,20),identifier(p3(77,9,13),name),identifier(p3(77,16,20),pay2)),rec_entry(p3(78,9,30),identifier(p3(78,9,22),is_preemptive),boolean_false(p3(78,25,30))),rec_entry(p3(79,9,31),identifier(p3(79,9,26),initial_timer_val),integer(p3(79,29,31),10))]))]),rec(p5(1,83,5,92,6),[rec_entry(p3(84,7,28),identifier(p3(84,7,11),name),identifier(p3(84,14,28),'EventOfDefault')),rec_entry(p3(85,7,35),identifier(p3(85,7,22),possible_actors),set_extension(p3(85,25,35),[identifier(p3(85,26,34),borrower)])),rec_entry(p3(86,7,24),identifier(p3(86,7,14),deontic),identifier(p3(86,17,24),'CProhib')),rec_entry(p5(1,87,7,91,8),identifier(p3(87,7,12),event),rec(p5(1,87,15,91,8),[rec_entry(p3(88,9,32),identifier(p3(88,9,13),name),identifier(p3(88,16,32),event_of_default)),rec_entry(p3(89,9,29),identifier(p3(89,9,22),is_preemptive),boolean_true(p3(89,25,29))),rec_entry(p3(90,9,31),identifier(p3(90,9,26),initial_timer_val),integer(p3(90,29,31),25))]))]),rec(p5(1,94,5,103,6),[rec_entry(p3(95,7,28),identifier(p3(95,7,11),name),identifier(p3(95,14,28),'NotifyBorrower')),rec_entry(p3(96,7,33),identifier(p3(96,7,22),possible_actors),set_extension(p3(96,25,33),[identifier(p3(96,26,32),lender)])),rec_entry(p3(97,7,21),identifier(p3(97,7,14),deontic),identifier(p3(97,17,21),'Perm')),rec_entry(p5(1,98,7,102,8),identifier(p3(98,7,12),event),rec(p5(1,98,15,102,8),[rec_entry(p3(99,9,31),identifier(p3(99,9,13),name),identifier(p3(99,16,31),notify_borrower)),rec_entry(p3(100,9,29),identifier(p3(100,9,22),is_preemptive),boolean_true(p3(100,25,29))),rec_entry(p3(101,9,30),identifier(p3(101,9,26),initial_timer_val),integer(p3(101,29,30),3))]))]),rec(p5(1,105,5,114,6),[rec_entry(p3(106,7,25),identifier(p3(106,7,11),name),identifier(p3(106,14,25),'CureDefault')),rec_entry(p3(107,7,35),identifier(p3(107,7,22),possible_actors),set_extension(p3(107,25,35),[identifier(p3(107,26,34),borrower)])),rec_entry(p3(108,7,20),identifier(p3(108,7,14),deontic),identifier(p3(108,17,20),'COb')),rec_entry(p5(1,109,7,113,8),identifier(p3(109,7,12),event),rec(p5(1,109,15,113,8),[rec_entry(p3(110,9,28),identifier(p3(110,9,13),name),identifier(p3(110,16,28),cure_default)),rec_entry(p3(111,9,29),identifier(p3(111,9,22),is_preemptive),boolean_true(p3(111,25,29))),rec_entry(p3(112,9,30),identifier(p3(112,9,26),initial_timer_val),integer(p3(112,29,30),2))]))]),rec(p5(1,116,5,125,6),[rec_entry(p3(117,7,28),identifier(p3(117,7,11),name),identifier(p3(117,14,28),'PayAccelerated')),rec_entry(p3(118,7,35),identifier(p3(118,7,22),possible_actors),set_extension(p3(118,25,35),[identifier(p3(118,26,34),borrower)])),rec_entry(p3(119,7,21),identifier(p3(119,7,14),deontic),identifier(p3(119,17,21),'NCOb')),rec_entry(p5(1,120,7,124,8),identifier(p3(120,7,12),event),rec(p5(1,120,15,124,8),[rec_entry(p3(121,9,31),identifier(p3(121,9,13),name),identifier(p3(121,16,31),pay_accelerated)),rec_entry(p3(122,9,29),identifier(p3(122,9,22),is_preemptive),boolean_true(p3(122,25,29))),rec_entry(p3(123,9,30),identifier(p3(123,9,26),initial_timer_val),integer(p3(123,29,30),1))]))])]))])),variables(p5(1,128,1,129,10),[identifier(p3(129,3,10),started)]),invariant(p5(1,131,1,132,17),member(p3(132,3,17),identifier(p3(132,3,10),started),bool_set(p3(132,13,17)))),initialisation(p5(1,134,1,135,19),assign(p3(135,3,19),[identifier(p3(135,3,10),started)],[boolean_false(p3(135,14,19))])),operations(p5(1,137,1,246,6),[operation(p5(1,138,3,145,8),identifier(p5(1,138,3,145,8),start),[],[],precondition(p5(1,139,5,145,8),equal(p3(140,7,22),identifier(p3(140,7,14),started),boolean_false(p3(140,17,22))),sequence(p5(1,142,7,144,45),[parallel(p5(1,142,7,143,23),[assign(p3(142,7,22),[identifier(p3(142,7,14),started)],[boolean_true(p3(142,18,22))]),operation_call(p3(143,7,16),identifier(p3(143,7,16),add_rules),[],[identifier(p3(143,17,23),rules0)])]),operation_call(p3(144,7,14),identifier(p3(144,7,14),trigger),[],[set_extension(p3(144,15,45),[couple(p3(144,16,44),[identifier(p3(144,17,33),'RequestPrincipal'),identifier(p3(144,35,43),borrower)])])])]))),operation(p5(1,147,3,153,6),identifier(p5(1,147,3,153,6),request_principal_happened),[],[identifier(p3(147,30,35),actor)],var(p5(1,147,39,153,6),[identifier(p3(147,43,53),rule_names)],sequence(p5(1,148,5,152,8),[operation_call(p3(148,5,57),identifier(p3(148,5,57),event_happened),[identifier(p3(148,5,15),rule_names)],[identifier(p3(148,33,50),request_principal),identifier(p3(148,52,57),actor)]),if(p5(1,150,5,152,8),member(p3(150,8,37),identifier(p3(150,8,24),'RequestPrincipal'),identifier(p3(150,27,37),rule_names)),operation_call(p3(151,7,14),identifier(p3(151,7,14),trigger),[],[set_extension(p3(151,15,40),[couple(p3(151,16,39),[identifier(p3(151,17,30),'SendPrincipal'),identifier(p3(151,32,38),lender)])])]),[],skip(none))]))),operation(p5(1,155,3,157,6),identifier(p5(1,155,3,157,6),request_principal_timeout),[],[identifier(p3(155,29,34),actor)],var(p5(1,155,38,157,6),[identifier(p3(155,42,52),rule_names)],operation_call(p3(156,5,56),identifier(p3(156,5,56),event_timeout),[identifier(p3(156,5,15),rule_names)],[identifier(p3(156,32,49),request_principal),identifier(p3(156,51,56),actor)]))),operation(p5(1,159,3,165,6),identifier(p5(1,159,3,165,6),send_principal_happened),[],[identifier(p3(159,27,32),actor)],var(p5(1,159,36,165,6),[identifier(p3(159,40,50),rule_names)],sequence(p5(1,160,5,164,8),[operation_call(p3(160,5,54),identifier(p3(160,5,54),event_happened),[identifier(p3(160,5,15),rule_names)],[identifier(p3(160,33,47),send_principal),identifier(p3(160,49,54),actor)]),if(p5(1,162,5,164,8),member(p3(162,8,34),identifier(p3(162,8,21),'SendPrincipal'),identifier(p3(162,24,34),rule_names)),operation_call(p3(163,7,14),identifier(p3(163,7,14),trigger),[],[set_extension(p3(163,15,65),[couple(p3(163,16,36),[identifier(p3(163,17,25),'Payment1'),identifier(p3(163,27,35),borrower)]),couple(p3(163,38,64),[identifier(p3(163,39,53),'EventOfDefault'),identifier(p3(163,55,63),borrower)])])]),[],skip(none))]))),operation(p5(1,167,3,169,6),identifier(p5(1,167,3,169,6),send_principal_timeout),[],[identifier(p3(167,26,31),actor)],var(p5(1,167,35,169,6),[identifier(p3(167,39,49),rule_names)],operation_call(p3(168,5,53),identifier(p3(168,5,53),event_timeout),[identifier(p3(168,5,15),rule_names)],[identifier(p3(168,32,46),send_principal),identifier(p3(168,48,53),actor)]))),operation(p5(1,171,3,177,6),identifier(p5(1,171,3,177,6),payment1_happened),[],[identifier(p3(171,21,26),actor)],var(p5(1,171,30,177,6),[identifier(p3(171,34,44),rule_names)],sequence(p5(1,172,5,176,8),[operation_call(p3(172,5,44),identifier(p3(172,5,44),event_happened),[identifier(p3(172,5,15),rule_names)],[identifier(p3(172,33,37),pay1),identifier(p3(172,39,44),actor)]),if(p5(1,174,5,176,8),member(p3(174,8,29),identifier(p3(174,8,16),'Payment1'),identifier(p3(174,19,29),rule_names)),operation_call(p3(175,7,14),identifier(p3(175,7,14),trigger),[],[set_extension(p3(175,15,34),[couple(p3(175,16,33),[identifier(p3(175,17,25),'Payment2'),identifier(p3(175,27,32),actor)])])]),[],skip(none))]))),operation(p5(1,179,3,185,6),identifier(p5(1,179,3,185,6),payment1_timeout),[],[identifier(p3(179,20,25),actor)],var(p5(1,179,29,185,6),[identifier(p3(179,33,43),rule_names)],sequence(p5(1,180,5,184,8),[operation_call(p3(180,5,43),identifier(p3(180,5,43),event_timeout),[identifier(p3(180,5,15),rule_names)],[identifier(p3(180,32,36),pay1),identifier(p3(180,38,43),actor)]),if(p5(1,182,5,184,8),member(p3(182,8,29),identifier(p3(182,8,16),'Payment1'),identifier(p3(182,19,29),rule_names)),operation_call(p3(183,7,14),identifier(p3(183,7,14),trigger),[],[set_extension(p3(183,15,60),[couple(p3(183,16,33),[identifier(p3(183,17,25),'Payment2'),identifier(p3(183,27,32),actor)]),couple(p3(183,35,59),[identifier(p3(183,36,50),'NotifyBorrower'),identifier(p3(183,52,58),lender)])])]),[],skip(none))]))),operation(p5(1,187,3,193,6),identifier(p5(1,187,3,193,6),payment2_happened),[],[identifier(p3(187,21,26),actor)],var(p5(1,187,30,193,6),[identifier(p3(187,34,44),rule_names)],sequence(p5(1,188,5,192,8),[operation_call(p3(188,5,44),identifier(p3(188,5,44),event_happened),[identifier(p3(188,5,15),rule_names)],[identifier(p3(188,33,37),pay2),identifier(p3(188,39,44),actor)]),if(p5(1,190,5,192,8),member(p3(190,8,29),identifier(p3(190,8,16),'Payment2'),identifier(p3(190,19,29),rule_names)),operation_call(p3(191,7,16),identifier(p3(191,7,16),discharge),[],[mult_or_cart(p3(191,17,33),identifier(p3(191,17,25),'RuleName'),identifier(p3(191,28,33),'Actor'))]),[],skip(none))]))),operation(p5(1,195,3,201,6),identifier(p5(1,195,3,201,6),payment2_timeout),[],[identifier(p3(195,20,25),actor)],var(p5(1,195,29,201,6),[identifier(p3(195,33,43),rule_names)],sequence(p5(1,196,5,200,8),[operation_call(p3(196,5,43),identifier(p3(196,5,43),event_timeout),[identifier(p3(196,5,15),rule_names)],[identifier(p3(196,32,36),pay2),identifier(p3(196,38,43),actor)]),if(p5(1,198,5,200,8),member(p3(198,8,29),identifier(p3(198,8,16),'Payment2'),identifier(p3(198,19,29),rule_names)),operation_call(p3(199,7,14),identifier(p3(199,7,14),trigger),[],[set_extension(p3(199,15,41),[couple(p3(199,16,40),[identifier(p3(199,17,31),'NotifyBorrower'),identifier(p3(199,33,39),lender)])])]),[],skip(none))]))),operation(p5(1,203,3,205,6),identifier(p5(1,203,3,205,6),pay_accelerated_happened),[],[identifier(p3(203,28,33),actor)],var(p5(1,203,37,205,6),[identifier(p3(203,41,51),rule_names)],operation_call(p3(204,5,55),identifier(p3(204,5,55),event_happened),[identifier(p3(204,5,15),rule_names)],[identifier(p3(204,33,48),pay_accelerated),identifier(p3(204,50,55),actor)]))),operation(p5(1,207,3,209,6),identifier(p5(1,207,3,209,6),pay_accelerated_timeout),[],[identifier(p3(207,27,32),actor)],var(p5(1,207,36,209,6),[identifier(p3(207,40,50),rule_names)],operation_call(p3(208,5,54),identifier(p3(208,5,54),event_timeout),[identifier(p3(208,5,15),rule_names)],[identifier(p3(208,32,47),pay_accelerated),identifier(p3(208,49,54),actor)]))),operation(p5(1,211,3,217,6),identifier(p5(1,211,3,217,6),event_of_default_happened),[],[identifier(p3(211,29,34),actor)],var(p5(1,211,38,217,6),[identifier(p3(211,42,52),rule_names)],sequence(p5(1,212,5,216,8),[operation_call(p3(212,5,56),identifier(p3(212,5,56),event_happened),[identifier(p3(212,5,15),rule_names)],[identifier(p3(212,33,49),event_of_default),identifier(p3(212,51,56),actor)]),if(p5(1,214,5,216,8),member(p3(214,8,35),identifier(p3(214,8,22),'EventOfDefault'),identifier(p3(214,25,35),rule_names)),operation_call(p3(215,7,14),identifier(p3(215,7,14),trigger),[],[set_extension(p3(215,15,41),[couple(p3(215,16,40),[identifier(p3(215,17,31),'NotifyBorrower'),identifier(p3(215,33,39),lender)])])]),[],skip(none))]))),operation(p5(1,219,3,221,6),identifier(p5(1,219,3,221,6),event_of_default_timeout),[],[identifier(p3(219,28,33),actor)],var(p5(1,219,37,221,6),[identifier(p3(219,41,51),rule_names)],operation_call(p3(220,5,55),identifier(p3(220,5,55),event_timeout),[identifier(p3(220,5,15),rule_names)],[identifier(p3(220,32,48),event_of_default),identifier(p3(220,50,55),actor)]))),operation(p5(1,223,3,229,6),identifier(p5(1,223,3,229,6),notify_borrower_happened),[],[identifier(p3(223,28,33),actor)],var(p5(1,223,37,229,6),[identifier(p3(223,41,51),rule_names)],sequence(p5(1,224,5,228,8),[operation_call(p3(224,5,55),identifier(p3(224,5,55),event_happened),[identifier(p3(224,5,15),rule_names)],[identifier(p3(224,33,48),notify_borrower),identifier(p3(224,50,55),actor)]),if(p5(1,226,5,228,8),member(p3(226,8,35),identifier(p3(226,8,22),'NotifyBorrower'),identifier(p3(226,25,35),rule_names)),operation_call(p3(227,7,14),identifier(p3(227,7,14),trigger),[],[set_extension(p3(227,15,40),[couple(p3(227,16,39),[identifier(p3(227,17,28),'CureDefault'),identifier(p3(227,30,38),borrower)])])]),[],skip(none))]))),operation(p5(1,231,3,233,6),identifier(p5(1,231,3,233,6),notify_borrower_timeout),[],[identifier(p3(231,27,32),actor)],var(p5(1,231,36,233,6),[identifier(p3(231,40,50),rule_names)],operation_call(p3(232,5,54),identifier(p3(232,5,54),event_timeout),[identifier(p3(232,5,15),rule_names)],[identifier(p3(232,32,47),notify_borrower),identifier(p3(232,49,54),actor)]))),operation(p5(1,235,3,237,6),identifier(p5(1,235,3,237,6),cure_default_happened),[],[identifier(p3(235,25,30),actor)],var(p5(1,235,34,237,6),[identifier(p3(235,38,48),rule_names)],operation_call(p3(236,5,52),identifier(p3(236,5,52),event_happened),[identifier(p3(236,5,15),rule_names)],[identifier(p3(236,33,45),cure_default),identifier(p3(236,47,52),actor)]))),operation(p5(1,239,3,246,6),identifier(p5(1,239,3,246,6),cure_default_timeout),[],[identifier(p3(239,24,29),actor)],var(p5(1,239,33,246,6),[identifier(p3(239,37,47),rule_names)],sequence(p5(1,240,5,245,8),[operation_call(p3(240,5,51),identifier(p3(240,5,51),event_timeout),[identifier(p3(240,5,15),rule_names)],[identifier(p3(240,32,44),cure_default),identifier(p3(240,46,51),actor)]),if(p5(1,242,5,245,8),member(p3(242,8,32),identifier(p3(242,8,19),'CureDefault'),identifier(p3(242,22,32),rule_names)),sequence(p5(1,243,7,244,43),[operation_call(p3(243,7,16),identifier(p3(243,7,16),discharge),[],[mult_or_cart(p3(243,17,33),identifier(p3(243,17,25),'RuleName'),identifier(p3(243,28,33),'Actor'))]),operation_call(p3(244,7,14),identifier(p3(244,7,14),trigger),[],[set_extension(p3(244,15,43),[couple(p3(244,16,42),[identifier(p3(244,17,31),'PayAccelerated'),identifier(p3(244,33,41),borrower)])])])]),[],skip(none))])))])])).
