package(load_event_b_project([event_b_model(none,'ContractMch',[sees(none,['ContractCtx']),variables(none,[identifier(none,currState),identifier(none,outstanding),identifier(none,nextPaymentNum)]),invariant(none,[member(rodinpos('ContractMch','invOutstanding ','_oTbDJF9LEe2h09aT9E1bdA'),identifier(none,outstanding),interval(none,integer(none,0),identifier(none,initialOutstanding))),member(rodinpos('ContractMch','invCurrPayment ','_oTbDJV9LEe2h09aT9E1bdA'),identifier(none,nextPaymentNum),interval(none,integer(none,1),add(none,identifier(none,numPayments),integer(none,1)))),member(rodinpos('ContractMch','invCurrState ','_oTbDJl9LEe2h09aT9E1bdA'),identifier(none,currState),identifier(none,'CONTRACTSTATE')),implication(rodinpos('ContractMch','invNextPaymentNum ','_oTbqMF9LEe2h09aT9E1bdA'),equal(none,identifier(none,nextPaymentNum),add(none,identifier(none,numPayments),integer(none,1))),equal(none,identifier(none,outstanding),integer(none,0)))]),theorems(none,[]),events(none,[event(rodinpos('ContractMch','INITIALISATION','_oTbqMV9LEe2h09aT9E1bdA'),'INITIALISATION',ordinary(none),[],[],[],[],[assign(rodinpos('ContractMch','actOutstanding ','_oTbqMl9LEe2h09aT9E1bdA'),[identifier(none,outstanding)],[identifier(none,initialOutstanding)]),assign(rodinpos('ContractMch','nextPaymentNum ','_oTbqM19LEe2h09aT9E1bdA'),[identifier(none,nextPaymentNum)],[integer(none,1)]),assign(rodinpos('ContractMch','actCurrState ','_oTbqNF9LEe2h09aT9E1bdA'),[identifier(none,currState)],[identifier(none,inProgress)])],[]),event(rodinpos('ContractMch',pay_normal,'_oTbqNV9LEe2h09aT9E1bdA'),pay_normal,ordinary(none),[],[],[greater(rodinpos('ContractMch','grd1 ','_oTbqNl9LEe2h09aT9E1bdA'),identifier(none,outstanding),integer(none,0))],[],[assign(rodinpos('ContractMch','act1 ','_oTbqN19LEe2h09aT9E1bdA'),[identifier(none,outstanding)],[minus(none,identifier(none,outstanding),function(none,identifier(none,paymentAmt),[identifier(none,nextPaymentNum)]))]),assign(rodinpos('ContractMch','act2 ','_oTbqOF9LEe2h09aT9E1bdA'),[identifier(none,nextPaymentNum)],[add(none,identifier(none,nextPaymentNum),integer(none,1))])],[]),event(rodinpos('ContractMch',payment_default,'_oTcRQF9LEe2h09aT9E1bdA'),payment_default,ordinary(none),[],[],[greater(rodinpos('ContractMch','grd1 ','_oTcRQV9LEe2h09aT9E1bdA'),identifier(none,outstanding),integer(none,0))],[],[],[]),event(rodinpos('ContractMch',borrower_default,'_oTcRQl9LEe2h09aT9E1bdA'),borrower_default,ordinary(none),[],[],[greater(rodinpos('ContractMch','grd1 ','_oTcRQ19LEe2h09aT9E1bdA'),identifier(none,outstanding),integer(none,0))],[],[],[]),event(rodinpos('ContractMch',pay_accelerated,'_oTcRRF9LEe2h09aT9E1bdA'),pay_accelerated,ordinary(none),[],[],[greater(rodinpos('ContractMch','grd1 ','_oTcRRV9LEe2h09aT9E1bdA'),identifier(none,outstanding),integer(none,0))],[],[assign(rodinpos('ContractMch','act1 ','_oTcRRl9LEe2h09aT9E1bdA'),[identifier(none,outstanding)],[integer(none,0)])],[]),event(rodinpos('ContractMch',get_outstanding,'_oTcRR19LEe2h09aT9E1bdA'),get_outstanding,ordinary(none),[],[identifier(rodinpos('ContractMch',[],'_oTcRSF9LEe2h09aT9E1bdA'),n)],[equal(rodinpos('ContractMch','grd1 ','_oTc4UF9LEe2h09aT9E1bdA'),identifier(none,outstanding),identifier(none,n))],[],[],[]),event(rodinpos('ContractMch',fulfilled,'_oTc4UV9LEe2h09aT9E1bdA'),fulfilled,ordinary(none),[],[],[],[],[],[]),event(rodinpos('ContractMch',breached,'_oTc4Ul9LEe2h09aT9E1bdA'),breached,ordinary(none),[],[],[],[],[],[]),event(rodinpos('ContractMch',dont_request_principal,'_oTc4U19LEe2h09aT9E1bdA'),dont_request_principal,ordinary(none),[],[],[],[],[],[]),event(rodinpos('ContractMch',request_principal,'_oTc4VF9LEe2h09aT9E1bdA'),request_principal,ordinary(none),[],[],[],[],[],[]),event(rodinpos('ContractMch',lender_default,'_oTc4VV9LEe2h09aT9E1bdA'),lender_default,ordinary(none),[],[],[],[],[],[]),event(rodinpos('ContractMch',send_principal,'_oTc4Vl9LEe2h09aT9E1bdA'),send_principal,ordinary(none),[],[],[],[],[],[]),event(rodinpos('ContractMch',dont_cure_default,'_oTc4V19LEe2h09aT9E1bdA'),dont_cure_default,ordinary(none),[],[],[],[],[],[]),event(rodinpos('ContractMch',cure_default,'_oTdfYF9LEe2h09aT9E1bdA'),cure_default,ordinary(none),[],[],[],[],[],[]),event(rodinpos('ContractMch',notify_borrower_of_default,'_oTdfYV9LEe2h09aT9E1bdA'),notify_borrower_of_default,ordinary(none),[],[],[],[],[],[]),event(rodinpos('ContractMch',dont_notify_borrower,'_oTdfYl9LEe2h09aT9E1bdA'),dont_notify_borrower,ordinary(none),[],[],[],[],[],[])])])],[event_b_context(none,'ContractCtx',[extends(none,[]),constants(none,[identifier(none,paymentAmt),identifier(none,inProgress),identifier(none,fulfilled),identifier(none,breached),identifier(none,sum),identifier(none,initialOutstanding),identifier(none,numPayments)]),abstract_constants(none,[]),axioms(none,[equal(rodinpos('ContractCtx','axmNumPayments ','_ZwanU184Ee2h09aT9E1bdA'),identifier(none,numPayments),integer(none,2)),member(rodinpos('ContractCtx','axmPaymentAmt1 ','_ZwanVF84Ee2h09aT9E1bdA'),identifier(none,paymentAmt),total_function(none,interval(none,integer(none,1),identifier(none,numPayments)),natural1_set(none))),equal(rodinpos('ContractCtx','axmPaymentAmt2 ','_ZwanVV84Ee2h09aT9E1bdA'),identifier(none,paymentAmt),set_extension(none,[couple(none,[integer(none,1),integer(none,550)]),couple(none,[integer(none,2),integer(none,525)])])),partition(rodinpos('ContractCtx','axmCONTRACTSTATE ','_ZwanVl84Ee2h09aT9E1bdA'),identifier(none,'CONTRACTSTATE'),[set_extension(none,[identifier(none,breached)]),set_extension(none,[identifier(none,fulfilled)]),set_extension(none,[identifier(none,inProgress)])]),member(rodinpos('ContractCtx','axmSum1 ','_ZwbOYF84Ee2h09aT9E1bdA'),identifier(none,sum),total_function(none,interval(none,integer(none,1),identifier(none,numPayments)),natural1_set(none))),equal(rodinpos('ContractCtx','axmSum2 ','_ZwbOYV84Ee2h09aT9E1bdA'),function(none,identifier(none,sum),[integer(none,1)]),function(none,identifier(none,paymentAmt),[integer(none,1)])),forall(rodinpos('ContractCtx','axmSum3 ','_ZwbOYl84Ee2h09aT9E1bdA'),[identifier(none,i)],implication(none,conjunct(none,member(none,identifier(none,i),integer_set(none)),member(none,identifier(none,i),interval(none,integer(none,2),identifier(none,numPayments)))),equal(none,function(none,identifier(none,sum),[identifier(none,i)]),add(none,function(none,identifier(none,sum),[minus(none,identifier(none,i),integer(none,1))]),function(none,identifier(none,paymentAmt),[identifier(none,i)]))))),equal(rodinpos('ContractCtx','axmInitialOutstanding ','_ZwbOY184Ee2h09aT9E1bdA'),identifier(none,initialOutstanding),function(none,identifier(none,sum),[identifier(none,numPayments)]))]),theorems(none,[equal(rodinpos('ContractCtx','thmInitialOutstandingEq ','_ZwbOZF84Ee2h09aT9E1bdA'),identifier(none,initialOutstanding),integer(none,1075))]),sets(none,[deferred_set(none,'CONTRACTSTATE')])])],[exporter_version(3),po('ContractCtx','Well-definedness of Axiom',[axiom('axmSum2 ')],true),po('ContractCtx','Well-definedness of Axiom',[axiom('axmSum3 ')],true),po('ContractCtx','Well-definedness of Axiom',[axiom('axmInitialOutstanding ')],true),po('ContractCtx','Theorem',[axiom('thmInitialOutstandingEq ')],true),po('ContractMch','Invariant  establishment',[event('INITIALISATION'),invariant('invOutstanding ')],true),po('ContractMch','Invariant  establishment',[event('INITIALISATION'),invariant('invCurrPayment ')],true),po('ContractMch','Invariant  establishment',[event('INITIALISATION'),invariant('invNextPaymentNum ')],true),po('ContractMch','Invariant  preservation',[event(pay_normal),invariant('invOutstanding ')],false),po('ContractMch','Invariant  preservation',[event(pay_normal),invariant('invCurrPayment ')],true),po('ContractMch','Invariant  preservation',[event(pay_normal),invariant('invNextPaymentNum ')],false),po('ContractMch','Well-definedness of action',[action('act1 ')],true),po('ContractMch','Invariant  preservation',[event(pay_accelerated),invariant('invOutstanding ')],true),po('ContractMch','Invariant  preservation',[event(pay_accelerated),invariant('invNextPaymentNum ')],true)],_Error)).

