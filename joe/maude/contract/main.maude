load ./verification/model-check  

(srewrite
  start

  < 'lender : Actor | none > 
  < 'borrower : Actor | none >

  < 'state : AbstractMachineState |
    time : (T:Time),
    rules : (Rs:Set{Rule}),
    activeRules : (
      PARTY 'borrower MUST DO 'pay_payment WITHIN (T0:Time),
      PARTY 'borrower SHANT DO 'default WITHIN (T1:Time)
    )
    --- allowedEvents : allEvents
  >
  using (event[actorName <- 'borrower, actionName <- 'default])
.)

eof

(reduce
  modelCheck(none, [] Top)
.)